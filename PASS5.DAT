    ADDRESS-000
      LABEL-
  FORMATTED-
  LOGFORMAT-
INSTRUCTION-
   OPERAND1-
  OP1 VALUE-
   OPERAND2-
  OP2 VALUE-
    COMMENT-;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
    ADDRESS-000
      LABEL-
  FORMATTED-
  LOGFORMAT-
INSTRUCTION-
   OPERAND1-
  OP1 VALUE-
   OPERAND2-
  OP2 VALUE-
    COMMENT-;;
    ADDRESS-000
      LABEL-
  FORMATTED-
  LOGFORMAT-
INSTRUCTION-
   OPERAND1-
  OP1 VALUE-
   OPERAND2-
  OP2 VALUE-
    COMMENT-;; Tyler Anderson Tue, Apr 07, 2015 10:07:50 AM
    ADDRESS-000
      LABEL-
  FORMATTED-
  LOGFORMAT-
INSTRUCTION-
   OPERAND1-
  OP1 VALUE-
   OPERAND2-
  OP2 VALUE-
    COMMENT-;;
    ADDRESS-000
      LABEL-
  FORMATTED-
  LOGFORMAT-
INSTRUCTION-
   OPERAND1-
  OP1 VALUE-
   OPERAND2-
  OP2 VALUE-
    COMMENT-;; Convert incoming ascii hex character commands to 32-bit
    ADDRESS-000
      LABEL-
  FORMATTED-
  LOGFORMAT-
INSTRUCTION-
   OPERAND1-
  OP1 VALUE-
   OPERAND2-
  OP2 VALUE-
    COMMENT-;; binary commands. For receiving, u 'x' as start character.
    ADDRESS-000
      LABEL-
  FORMATTED-
  LOGFORMAT-
INSTRUCTION-
   OPERAND1-
  OP1 VALUE-
   OPERAND2-
  OP2 VALUE-
    COMMENT-;; For transmitting, use 'q' as the start character. Use
    ADDRESS-000
      LABEL-
  FORMATTED-
  LOGFORMAT-
INSTRUCTION-
   OPERAND1-
  OP1 VALUE-
   OPERAND2-
  OP2 VALUE-
    COMMENT-;; linefeed or space as sentinel for stop.
    ADDRESS-000
      LABEL-
  FORMATTED-
  LOGFORMAT-
INSTRUCTION-
   OPERAND1-
  OP1 VALUE-
   OPERAND2-
  OP2 VALUE-
    COMMENT-;;
    ADDRESS-000
      LABEL-
  FORMATTED-
  LOGFORMAT-
INSTRUCTION-
   OPERAND1-
  OP1 VALUE-
   OPERAND2-
  OP2 VALUE-
    COMMENT-;; Used a few ideas from
    ADDRESS-000
      LABEL-
  FORMATTED-
  LOGFORMAT-
INSTRUCTION-
   OPERAND1-
  OP1 VALUE-
   OPERAND2-
  OP2 VALUE-
    COMMENT-;; http://www.ivysim.com/picoblaze/dec2bin/
    ADDRESS-000
      LABEL-
  FORMATTED-
  LOGFORMAT-
INSTRUCTION-
   OPERAND1-
  OP1 VALUE-
   OPERAND2-
  OP2 VALUE-
    COMMENT-;;
    ADDRESS-000
      LABEL-
  FORMATTED-
  LOGFORMAT-
INSTRUCTION-
   OPERAND1-
  OP1 VALUE-
   OPERAND2-
  OP2 VALUE-
    COMMENT-;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
    ADDRESS-000
      LABEL-
  FORMATTED-
  LOGFORMAT-
INSTRUCTION-
   OPERAND1-
  OP1 VALUE-
   OPERAND2-
  OP2 VALUE-
    COMMENT-;; The ASCII characters we are looking for
    ADDRESS-000
      LABEL-
  FORMATTED-
  LOGFORMAT-
INSTRUCTION-
   OPERAND1-
  OP1 VALUE-
   OPERAND2-
  OP2 VALUE-
    COMMENT-;; http://www.asciitable.com/
    ADDRESS-000
      LABEL-
  FORMATTED-
  LOGFORMAT-
INSTRUCTION-
   OPERAND1-
  OP1 VALUE-
   OPERAND2-
  OP2 VALUE-
    COMMENT-;;
    ADDRESS-000
      LABEL-
  FORMATTED-CONSTANT ASCII_x, 78
  LOGFORMAT-CONSTANT ASCII_x, 78
INSTRUCTION-CONSTANT
   OPERAND1-ASCII_x
  OP1 VALUE-ASCII_x
   OPERAND2-78
  OP2 VALUE-78
    COMMENT-
    ADDRESS-000
      LABEL-
  FORMATTED-CONSTANT ASCII_q, 71
  LOGFORMAT-CONSTANT ASCII_q, 71
INSTRUCTION-CONSTANT
   OPERAND1-ASCII_q
  OP1 VALUE-ASCII_q
   OPERAND2-71
  OP2 VALUE-71
    COMMENT-
    ADDRESS-000
      LABEL-
  FORMATTED-CONSTANT ASCII_lf, 0A
  LOGFORMAT-CONSTANT ASCII_lf, 0A
INSTRUCTION-CONSTANT
   OPERAND1-ASCII_lf
  OP1 VALUE-ASCII_lf
   OPERAND2-0A
  OP2 VALUE-0A
    COMMENT-
    ADDRESS-000
      LABEL-
  FORMATTED-CONSTANT ASCII_space, 20
  LOGFORMAT-CONSTANT ASCII_space, 20
INSTRUCTION-CONSTANT
   OPERAND1-ASCII_space
  OP1 VALUE-ASCII_space
   OPERAND2-20
  OP2 VALUE-20
    COMMENT-
    ADDRESS-000
      LABEL-
  FORMATTED-CONSTANT ASCII_0, 30
  LOGFORMAT-CONSTANT ASCII_0, 30
INSTRUCTION-CONSTANT
   OPERAND1-ASCII_0
  OP1 VALUE-ASCII_0
   OPERAND2-30
  OP2 VALUE-30
    COMMENT-
    ADDRESS-000
      LABEL-
  FORMATTED-CONSTANT ASCII_1, 31
  LOGFORMAT-CONSTANT ASCII_1, 31
INSTRUCTION-CONSTANT
   OPERAND1-ASCII_1
  OP1 VALUE-ASCII_1
   OPERAND2-31
  OP2 VALUE-31
    COMMENT-
    ADDRESS-000
      LABEL-
  FORMATTED-CONSTANT ASCII_2, 32
  LOGFORMAT-CONSTANT ASCII_2, 32
INSTRUCTION-CONSTANT
   OPERAND1-ASCII_2
  OP1 VALUE-ASCII_2
   OPERAND2-32
  OP2 VALUE-32
    COMMENT-
    ADDRESS-000
      LABEL-
  FORMATTED-CONSTANT ASCII_3, 33
  LOGFORMAT-CONSTANT ASCII_3, 33
INSTRUCTION-CONSTANT
   OPERAND1-ASCII_3
  OP1 VALUE-ASCII_3
   OPERAND2-33
  OP2 VALUE-33
    COMMENT-
    ADDRESS-000
      LABEL-
  FORMATTED-CONSTANT ASCII_4, 34
  LOGFORMAT-CONSTANT ASCII_4, 34
INSTRUCTION-CONSTANT
   OPERAND1-ASCII_4
  OP1 VALUE-ASCII_4
   OPERAND2-34
  OP2 VALUE-34
    COMMENT-
    ADDRESS-000
      LABEL-
  FORMATTED-CONSTANT ASCII_5, 35
  LOGFORMAT-CONSTANT ASCII_5, 35
INSTRUCTION-CONSTANT
   OPERAND1-ASCII_5
  OP1 VALUE-ASCII_5
   OPERAND2-35
  OP2 VALUE-35
    COMMENT-
    ADDRESS-000
      LABEL-
  FORMATTED-CONSTANT ASCII_6, 36
  LOGFORMAT-CONSTANT ASCII_6, 36
INSTRUCTION-CONSTANT
   OPERAND1-ASCII_6
  OP1 VALUE-ASCII_6
   OPERAND2-36
  OP2 VALUE-36
    COMMENT-
    ADDRESS-000
      LABEL-
  FORMATTED-CONSTANT ASCII_7, 37
  LOGFORMAT-CONSTANT ASCII_7, 37
INSTRUCTION-CONSTANT
   OPERAND1-ASCII_7
  OP1 VALUE-ASCII_7
   OPERAND2-37
  OP2 VALUE-37
    COMMENT-
    ADDRESS-000
      LABEL-
  FORMATTED-CONSTANT ASCII_8, 38
  LOGFORMAT-CONSTANT ASCII_8, 38
INSTRUCTION-CONSTANT
   OPERAND1-ASCII_8
  OP1 VALUE-ASCII_8
   OPERAND2-38
  OP2 VALUE-38
    COMMENT-
    ADDRESS-000
      LABEL-
  FORMATTED-CONSTANT ASCII_9, 39
  LOGFORMAT-CONSTANT ASCII_9, 39
INSTRUCTION-CONSTANT
   OPERAND1-ASCII_9
  OP1 VALUE-ASCII_9
   OPERAND2-39
  OP2 VALUE-39
    COMMENT-
    ADDRESS-000
      LABEL-
  FORMATTED-CONSTANT ASCII_A, 41
  LOGFORMAT-CONSTANT ASCII_A, 41
INSTRUCTION-CONSTANT
   OPERAND1-ASCII_A
  OP1 VALUE-ASCII_A
   OPERAND2-41
  OP2 VALUE-41
    COMMENT-
    ADDRESS-000
      LABEL-
  FORMATTED-CONSTANT ASCII_B, 42
  LOGFORMAT-CONSTANT ASCII_B, 42
INSTRUCTION-CONSTANT
   OPERAND1-ASCII_B
  OP1 VALUE-ASCII_B
   OPERAND2-42
  OP2 VALUE-42
    COMMENT-
    ADDRESS-000
      LABEL-
  FORMATTED-CONSTANT ASCII_C, 43
  LOGFORMAT-CONSTANT ASCII_C, 43
INSTRUCTION-CONSTANT
   OPERAND1-ASCII_C
  OP1 VALUE-ASCII_C
   OPERAND2-43
  OP2 VALUE-43
    COMMENT-
    ADDRESS-000
      LABEL-
  FORMATTED-CONSTANT ASCII_D, 44
  LOGFORMAT-CONSTANT ASCII_D, 44
INSTRUCTION-CONSTANT
   OPERAND1-ASCII_D
  OP1 VALUE-ASCII_D
   OPERAND2-44
  OP2 VALUE-44
    COMMENT-
    ADDRESS-000
      LABEL-
  FORMATTED-CONSTANT ASCII_E, 45
  LOGFORMAT-CONSTANT ASCII_E, 45
INSTRUCTION-CONSTANT
   OPERAND1-ASCII_E
  OP1 VALUE-ASCII_E
   OPERAND2-45
  OP2 VALUE-45
    COMMENT-
    ADDRESS-000
      LABEL-
  FORMATTED-CONSTANT ASCII_F, 46
  LOGFORMAT-CONSTANT ASCII_F, 46
INSTRUCTION-CONSTANT
   OPERAND1-ASCII_F
  OP1 VALUE-ASCII_F
   OPERAND2-46
  OP2 VALUE-46
    COMMENT-
    ADDRESS-000
      LABEL-
  FORMATTED-
  LOGFORMAT-
INSTRUCTION-
   OPERAND1-
  OP1 VALUE-
   OPERAND2-
  OP2 VALUE-
    COMMENT-;; Some port id addresses
    ADDRESS-000
      LABEL-
  FORMATTED-
  LOGFORMAT-
INSTRUCTION-
   OPERAND1-
  OP1 VALUE-
   OPERAND2-
  OP2 VALUE-
    COMMENT-;;
    ADDRESS-000
      LABEL-
  FORMATTED-CONSTANT RX_FIFO_EMPTY, 00
  LOGFORMAT-CONSTANT RX_FIFO_EMPTY, 00
INSTRUCTION-CONSTANT
   OPERAND1-RX_FIFO_EMPTY
  OP1 VALUE-RX_FIFO_EMPTY
   OPERAND2-00
  OP2 VALUE-00
    COMMENT-
    ADDRESS-000
      LABEL-
  FORMATTED-CONSTANT RX_FIFO_READ, 01
  LOGFORMAT-CONSTANT RX_FIFO_READ, 01
INSTRUCTION-CONSTANT
   OPERAND1-RX_FIFO_READ
  OP1 VALUE-RX_FIFO_READ
   OPERAND2-01
  OP2 VALUE-01
    COMMENT-
    ADDRESS-000
      LABEL-
  FORMATTED-CONSTANT TX_FIFO_FULL, 10
  LOGFORMAT-CONSTANT TX_FIFO_FULL, 10
INSTRUCTION-CONSTANT
   OPERAND1-TX_FIFO_FULL
  OP1 VALUE-TX_FIFO_FULL
   OPERAND2-10
  OP2 VALUE-10
    COMMENT-
    ADDRESS-000
      LABEL-
  FORMATTED-CONSTANT TX_FIFO_WRITE, 11
  LOGFORMAT-CONSTANT TX_FIFO_WRITE, 11
INSTRUCTION-CONSTANT
   OPERAND1-TX_FIFO_WRITE
  OP1 VALUE-TX_FIFO_WRITE
   OPERAND2-11
  OP2 VALUE-11
    COMMENT-
    ADDRESS-000
      LABEL-
  FORMATTED-CONSTANT CMD_FIFO_DATA0, 20
  LOGFORMAT-CONSTANT CMD_FIFO_DATA0, 20
INSTRUCTION-CONSTANT
   OPERAND1-CMD_FIFO_DATA0
  OP1 VALUE-CMD_FIFO_DATA0
   OPERAND2-20
  OP2 VALUE-20
    COMMENT-
    ADDRESS-000
      LABEL-
  FORMATTED-CONSTANT CMD_FIFO_DATA1, 21
  LOGFORMAT-CONSTANT CMD_FIFO_DATA1, 21
INSTRUCTION-CONSTANT
   OPERAND1-CMD_FIFO_DATA1
  OP1 VALUE-CMD_FIFO_DATA1
   OPERAND2-21
  OP2 VALUE-21
    COMMENT-
    ADDRESS-000
      LABEL-
  FORMATTED-CONSTANT CMD_FIFO_DATA2, 22
  LOGFORMAT-CONSTANT CMD_FIFO_DATA2, 22
INSTRUCTION-CONSTANT
   OPERAND1-CMD_FIFO_DATA2
  OP1 VALUE-CMD_FIFO_DATA2
   OPERAND2-22
  OP2 VALUE-22
    COMMENT-
    ADDRESS-000
      LABEL-
  FORMATTED-CONSTANT CMD_FIFO_DATA3, 23
  LOGFORMAT-CONSTANT CMD_FIFO_DATA3, 23
INSTRUCTION-CONSTANT
   OPERAND1-CMD_FIFO_DATA3
  OP1 VALUE-CMD_FIFO_DATA3
   OPERAND2-23
  OP2 VALUE-23
    COMMENT-
    ADDRESS-000
      LABEL-
  FORMATTED-CONSTANT CMD_FIFO_DATA4, 24
  LOGFORMAT-CONSTANT CMD_FIFO_DATA4, 24
INSTRUCTION-CONSTANT
   OPERAND1-CMD_FIFO_DATA4
  OP1 VALUE-CMD_FIFO_DATA4
   OPERAND2-24
  OP2 VALUE-24
    COMMENT-
    ADDRESS-000
      LABEL-
  FORMATTED-CONSTANT CMD_FIFO_DATA5, 25
  LOGFORMAT-CONSTANT CMD_FIFO_DATA5, 25
INSTRUCTION-CONSTANT
   OPERAND1-CMD_FIFO_DATA5
  OP1 VALUE-CMD_FIFO_DATA5
   OPERAND2-25
  OP2 VALUE-25
    COMMENT-
    ADDRESS-000
      LABEL-
  FORMATTED-CONSTANT CMD_FIFO_DATA6, 26
  LOGFORMAT-CONSTANT CMD_FIFO_DATA6, 26
INSTRUCTION-CONSTANT
   OPERAND1-CMD_FIFO_DATA6
  OP1 VALUE-CMD_FIFO_DATA6
   OPERAND2-26
  OP2 VALUE-26
    COMMENT-
    ADDRESS-000
      LABEL-
  FORMATTED-CONSTANT CMD_FIFO_DATA7, 27
  LOGFORMAT-CONSTANT CMD_FIFO_DATA7, 27
INSTRUCTION-CONSTANT
   OPERAND1-CMD_FIFO_DATA7
  OP1 VALUE-CMD_FIFO_DATA7
   OPERAND2-27
  OP2 VALUE-27
    COMMENT-
    ADDRESS-000
      LABEL-
  FORMATTED-CONSTANT CMD_FIFO_FULL, 28
  LOGFORMAT-CONSTANT CMD_FIFO_FULL, 28
INSTRUCTION-CONSTANT
   OPERAND1-CMD_FIFO_FULL
  OP1 VALUE-CMD_FIFO_FULL
   OPERAND2-28
  OP2 VALUE-28
    COMMENT-
    ADDRESS-000
      LABEL-
  FORMATTED-CONSTANT CMD_FIFO_WRITE, 29
  LOGFORMAT-CONSTANT CMD_FIFO_WRITE, 29
INSTRUCTION-CONSTANT
   OPERAND1-CMD_FIFO_WRITE
  OP1 VALUE-CMD_FIFO_WRITE
   OPERAND2-29
  OP2 VALUE-29
    COMMENT-
    ADDRESS-000
      LABEL-
  FORMATTED-CONSTANT RSP_FIFO_DATA0, 40
  LOGFORMAT-CONSTANT RSP_FIFO_DATA0, 40
INSTRUCTION-CONSTANT
   OPERAND1-RSP_FIFO_DATA0
  OP1 VALUE-RSP_FIFO_DATA0
   OPERAND2-40
  OP2 VALUE-40
    COMMENT-
    ADDRESS-000
      LABEL-
  FORMATTED-CONSTANT RSP_FIFO_DATA1, 41
  LOGFORMAT-CONSTANT RSP_FIFO_DATA1, 41
INSTRUCTION-CONSTANT
   OPERAND1-RSP_FIFO_DATA1
  OP1 VALUE-RSP_FIFO_DATA1
   OPERAND2-41
  OP2 VALUE-41
    COMMENT-
    ADDRESS-000
      LABEL-
  FORMATTED-CONSTANT RSP_FIFO_DATA2, 42
  LOGFORMAT-CONSTANT RSP_FIFO_DATA2, 42
INSTRUCTION-CONSTANT
   OPERAND1-RSP_FIFO_DATA2
  OP1 VALUE-RSP_FIFO_DATA2
   OPERAND2-42
  OP2 VALUE-42
    COMMENT-
    ADDRESS-000
      LABEL-
  FORMATTED-CONSTANT RSP_FIFO_DATA3, 43
  LOGFORMAT-CONSTANT RSP_FIFO_DATA3, 43
INSTRUCTION-CONSTANT
   OPERAND1-RSP_FIFO_DATA3
  OP1 VALUE-RSP_FIFO_DATA3
   OPERAND2-43
  OP2 VALUE-43
    COMMENT-
    ADDRESS-000
      LABEL-
  FORMATTED-CONSTANT RSP_FIFO_DATA4, 44
  LOGFORMAT-CONSTANT RSP_FIFO_DATA4, 44
INSTRUCTION-CONSTANT
   OPERAND1-RSP_FIFO_DATA4
  OP1 VALUE-RSP_FIFO_DATA4
   OPERAND2-44
  OP2 VALUE-44
    COMMENT-
    ADDRESS-000
      LABEL-
  FORMATTED-CONSTANT RSP_FIFO_DATA5, 45
  LOGFORMAT-CONSTANT RSP_FIFO_DATA5, 45
INSTRUCTION-CONSTANT
   OPERAND1-RSP_FIFO_DATA5
  OP1 VALUE-RSP_FIFO_DATA5
   OPERAND2-45
  OP2 VALUE-45
    COMMENT-
    ADDRESS-000
      LABEL-
  FORMATTED-CONSTANT RSP_FIFO_DATA6, 46
  LOGFORMAT-CONSTANT RSP_FIFO_DATA6, 46
INSTRUCTION-CONSTANT
   OPERAND1-RSP_FIFO_DATA6
  OP1 VALUE-RSP_FIFO_DATA6
   OPERAND2-46
  OP2 VALUE-46
    COMMENT-
    ADDRESS-000
      LABEL-
  FORMATTED-CONSTANT RSP_FIFO_DATA7, 47
  LOGFORMAT-CONSTANT RSP_FIFO_DATA7, 47
INSTRUCTION-CONSTANT
   OPERAND1-RSP_FIFO_DATA7
  OP1 VALUE-RSP_FIFO_DATA7
   OPERAND2-47
  OP2 VALUE-47
    COMMENT-
    ADDRESS-000
      LABEL-
  FORMATTED-CONSTANT RSP_FIFO_EMPTY, 48
  LOGFORMAT-CONSTANT RSP_FIFO_EMPTY, 48
INSTRUCTION-CONSTANT
   OPERAND1-RSP_FIFO_EMPTY
  OP1 VALUE-RSP_FIFO_EMPTY
   OPERAND2-48
  OP2 VALUE-48
    COMMENT-
    ADDRESS-000
      LABEL-
  FORMATTED-CONSTANT RSP_FIFO_READ, 49
  LOGFORMAT-CONSTANT RSP_FIFO_READ, 49
INSTRUCTION-CONSTANT
   OPERAND1-RSP_FIFO_READ
  OP1 VALUE-RSP_FIFO_READ
   OPERAND2-49
  OP2 VALUE-49
    COMMENT-
    ADDRESS-000
      LABEL-
  FORMATTED-
  LOGFORMAT-
INSTRUCTION-
   OPERAND1-
  OP1 VALUE-
   OPERAND2-
  OP2 VALUE-
    COMMENT-;; Some useful scratch pad memory addresses
    ADDRESS-000
      LABEL-
  FORMATTED-
  LOGFORMAT-
INSTRUCTION-
   OPERAND1-
  OP1 VALUE-
   OPERAND2-
  OP2 VALUE-
    COMMENT-;;
    ADDRESS-000
      LABEL-
  FORMATTED-CONSTANT ASCII_ADR_LO, 00
  LOGFORMAT-CONSTANT ASCII_ADR_LO, 00
INSTRUCTION-CONSTANT
   OPERAND1-ASCII_ADR_LO
  OP1 VALUE-ASCII_ADR_LO
   OPERAND2-00
  OP2 VALUE-00
    COMMENT-
    ADDRESS-000
      LABEL-
  FORMATTED-CONSTANT ASCII_ADR_HI, 07
  LOGFORMAT-CONSTANT ASCII_ADR_HI, 07
INSTRUCTION-CONSTANT
   OPERAND1-ASCII_ADR_HI
  OP1 VALUE-ASCII_ADR_HI
   OPERAND2-07
  OP2 VALUE-07
    COMMENT-
    ADDRESS-000
      LABEL-
  FORMATTED-CONSTANT BIN_ADR_LO, 08
  LOGFORMAT-CONSTANT BIN_ADR_LO, 08
INSTRUCTION-CONSTANT
   OPERAND1-BIN_ADR_LO
  OP1 VALUE-BIN_ADR_LO
   OPERAND2-08
  OP2 VALUE-08
    COMMENT-
    ADDRESS-000
      LABEL-
  FORMATTED-CONSTANT BIN_ADR_HI, 0F
  LOGFORMAT-CONSTANT BIN_ADR_HI, 0F
INSTRUCTION-CONSTANT
   OPERAND1-BIN_ADR_HI
  OP1 VALUE-BIN_ADR_HI
   OPERAND2-0F
  OP2 VALUE-0F
    COMMENT-
    ADDRESS-000
      LABEL-
  FORMATTED-CONSTANT MATCH_ADR_LO, 10
  LOGFORMAT-CONSTANT MATCH_ADR_LO, 10
INSTRUCTION-CONSTANT
   OPERAND1-MATCH_ADR_LO
  OP1 VALUE-MATCH_ADR_LO
   OPERAND2-10
  OP2 VALUE-10
    COMMENT-
    ADDRESS-000
      LABEL-
  FORMATTED-CONSTANT MATCH_ADR_HI, 1F
  LOGFORMAT-CONSTANT MATCH_ADR_HI, 1F
INSTRUCTION-CONSTANT
   OPERAND1-MATCH_ADR_HI
  OP1 VALUE-MATCH_ADR_HI
   OPERAND2-1F
  OP2 VALUE-1F
    COMMENT-
    ADDRESS-000
      LABEL-
  FORMATTED-
  LOGFORMAT-
INSTRUCTION-
   OPERAND1-
  OP1 VALUE-
   OPERAND2-
  OP2 VALUE-
    COMMENT-;; Some useful "Out of Range High" (ORH)
    ADDRESS-000
      LABEL-
  FORMATTED-
  LOGFORMAT-
INSTRUCTION-
   OPERAND1-
  OP1 VALUE-
   OPERAND2-
  OP2 VALUE-
    COMMENT-;; and "Out of Range Low" (ORL) addresses
    ADDRESS-000
      LABEL-
  FORMATTED-
  LOGFORMAT-
INSTRUCTION-
   OPERAND1-
  OP1 VALUE-
   OPERAND2-
  OP2 VALUE-
    COMMENT-;; for checking loop conditions
    ADDRESS-000
      LABEL-
  FORMATTED-CONSTANT ASCII_ADR_ORL, FF
  LOGFORMAT-CONSTANT ASCII_ADR_ORL, FF
INSTRUCTION-CONSTANT
   OPERAND1-ASCII_ADR_ORL
  OP1 VALUE-ASCII_ADR_ORL
   OPERAND2-FF
  OP2 VALUE-FF
    COMMENT-
    ADDRESS-000
      LABEL-
  FORMATTED-CONSTANT ASCII_ADR_ORH, 08
  LOGFORMAT-CONSTANT ASCII_ADR_ORH, 08
INSTRUCTION-CONSTANT
   OPERAND1-ASCII_ADR_ORH
  OP1 VALUE-ASCII_ADR_ORH
   OPERAND2-08
  OP2 VALUE-08
    COMMENT-
    ADDRESS-000
      LABEL-
  FORMATTED-CONSTANT BIN_ADR_ORL, 07
  LOGFORMAT-CONSTANT BIN_ADR_ORL, 07
INSTRUCTION-CONSTANT
   OPERAND1-BIN_ADR_ORL
  OP1 VALUE-BIN_ADR_ORL
   OPERAND2-07
  OP2 VALUE-07
    COMMENT-
    ADDRESS-000
      LABEL-
  FORMATTED-CONSTANT BIN_ADR_ORH, 10
  LOGFORMAT-CONSTANT BIN_ADR_ORH, 10
INSTRUCTION-CONSTANT
   OPERAND1-BIN_ADR_ORH
  OP1 VALUE-BIN_ADR_ORH
   OPERAND2-10
  OP2 VALUE-10
    COMMENT-
    ADDRESS-000
      LABEL-
  FORMATTED-CONSTANT MATCH_ADR_ORL, 0F
  LOGFORMAT-CONSTANT MATCH_ADR_ORL, 0F
INSTRUCTION-CONSTANT
   OPERAND1-MATCH_ADR_ORL
  OP1 VALUE-MATCH_ADR_ORL
   OPERAND2-0F
  OP2 VALUE-0F
    COMMENT-
    ADDRESS-000
      LABEL-
  FORMATTED-CONSTANT MATCH_ADR_ORH, 20
  LOGFORMAT-CONSTANT MATCH_ADR_ORH, 20
INSTRUCTION-CONSTANT
   OPERAND1-MATCH_ADR_ORH
  OP1 VALUE-MATCH_ADR_ORH
   OPERAND2-20
  OP2 VALUE-20
    COMMENT-
    ADDRESS-000
      LABEL-
  FORMATTED-
  LOGFORMAT-
INSTRUCTION-
   OPERAND1-
  OP1 VALUE-
   OPERAND2-
  OP2 VALUE-
    COMMENT-;; Some useful register definitions
    ADDRESS-000
      LABEL-
  FORMATTED-
  LOGFORMAT-
INSTRUCTION-
   OPERAND1-
  OP1 VALUE-
   OPERAND2-
  OP2 VALUE-
    COMMENT-;;
    ADDRESS-000
      LABEL-
  FORMATTED-NAMEREG s0, xreg
  LOGFORMAT-NAMEREG s0, xreg
INSTRUCTION-NAMEREG
   OPERAND1-s0
  OP1 VALUE-s0
   OPERAND2-xreg
  OP2 VALUE-xreg
    COMMENT-;; general purpose variable
    ADDRESS-000
      LABEL-
  FORMATTED-NAMEREG s1, yreg
  LOGFORMAT-NAMEREG s1, yreg
INSTRUCTION-NAMEREG
   OPERAND1-s1
  OP1 VALUE-s1
   OPERAND2-yreg
  OP2 VALUE-yreg
    COMMENT-;; general purpose variable
    ADDRESS-000
      LABEL-
  FORMATTED-NAMEREG s2, ascii_ptr
  LOGFORMAT-NAMEREG s2, ascii_ptr
INSTRUCTION-NAMEREG
   OPERAND1-s2
  OP1 VALUE-s2
   OPERAND2-ascii_ptr
  OP2 VALUE-ascii_ptr
    COMMENT-;; pointer to ascii rx or rsp hex chars in scratch pad memory
    ADDRESS-000
      LABEL-
  FORMATTED-NAMEREG s3, bin_eqv
  LOGFORMAT-NAMEREG s3, bin_eqv
INSTRUCTION-NAMEREG
   OPERAND1-s3
  OP1 VALUE-s3
   OPERAND2-bin_eqv
  OP2 VALUE-bin_eqv
    COMMENT-;; tracks ascii pointer to find binary equivalent of hex char
    ADDRESS-000
      LABEL-
  FORMATTED-NAMEREG s4, bin_ptr
  LOGFORMAT-NAMEREG s4, bin_ptr
INSTRUCTION-NAMEREG
   OPERAND1-s4
  OP1 VALUE-s4
   OPERAND2-bin_ptr
  OP2 VALUE-bin_ptr
    COMMENT-;; pointer to binary rx or rsp nybble in scratch pad memory
    ADDRESS-000
      LABEL-
  FORMATTED-NAMEREG s5, match_ptr
  LOGFORMAT-NAMEREG s5, match_ptr
INSTRUCTION-NAMEREG
   OPERAND1-s5
  OP1 VALUE-s5
   OPERAND2-match_ptr
  OP2 VALUE-match_ptr
    COMMENT-;; pointer to constant array of hex chars to match to rx or rsp
    ADDRESS-000
      LABEL-
  FORMATTED-NAMEREG s6, cmd_pid
  LOGFORMAT-NAMEREG s6, cmd_pid
INSTRUCTION-NAMEREG
   OPERAND1-s6
  OP1 VALUE-s6
   OPERAND2-cmd_pid
  OP2 VALUE-cmd_pid
    COMMENT-;; Port id variable for command writing
    ADDRESS-000
      LABEL-
  FORMATTED-NAMEREG s7, rsp_pid
  LOGFORMAT-NAMEREG s7, rsp_pid
INSTRUCTION-NAMEREG
   OPERAND1-s7
  OP1 VALUE-s7
   OPERAND2-rsp_pid
  OP2 VALUE-rsp_pid
    COMMENT-;; Port id variable for response reading
    ADDRESS-000
      LABEL-
  FORMATTED-NAMEREG sD, cnt0
  LOGFORMAT-NAMEREG sD, cnt0
INSTRUCTION-NAMEREG
   OPERAND1-sD
  OP1 VALUE-sD
   OPERAND2-cnt0
  OP2 VALUE-cnt0
    COMMENT-;; generic counter variable
    ADDRESS-000
      LABEL-
  FORMATTED-NAMEREG sE, cnt1
  LOGFORMAT-NAMEREG sE, cnt1
INSTRUCTION-NAMEREG
   OPERAND1-sE
  OP1 VALUE-sE
   OPERAND2-cnt1
  OP2 VALUE-cnt1
    COMMENT-;; generic counter variable
    ADDRESS-000
      LABEL-
  FORMATTED-NAMEREG sF, retval
  LOGFORMAT-NAMEREG sF, retval
INSTRUCTION-NAMEREG
   OPERAND1-sF
  OP1 VALUE-sF
   OPERAND2-retval
  OP2 VALUE-retval
    COMMENT-;; return value for subroutines
    ADDRESS-000
      LABEL-
  FORMATTED-
  LOGFORMAT-
INSTRUCTION-
   OPERAND1-
  OP1 VALUE-
   OPERAND2-
  OP2 VALUE-
    COMMENT-;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
    ADDRESS-000
      LABEL-
  FORMATTED-
  LOGFORMAT-
INSTRUCTION-
   OPERAND1-
  OP1 VALUE-
   OPERAND2-
  OP2 VALUE-
    COMMENT-;; No interrupt, and initialize the scratch pad with hexchar array to be
    ADDRESS-000
      LABEL-
  FORMATTED-
  LOGFORMAT-
INSTRUCTION-
   OPERAND1-
  OP1 VALUE-
   OPERAND2-
  OP2 VALUE-
    COMMENT-;; matched
    ADDRESS-000
      LABEL-
  FORMATTED-
  LOGFORMAT-
INSTRUCTION-
   OPERAND1-
  OP1 VALUE-
   OPERAND2-
  OP2 VALUE-
    COMMENT-;;
    ADDRESS-000
      LABEL-init
  FORMATTED-DISABLE INTERRUPT
  LOGFORMAT-DISABLE INTERRUPT
INSTRUCTION-DISABLE
   OPERAND1-INTERRUPT
  OP1 VALUE-INTERRUPT
   OPERAND2-
  OP2 VALUE-
    COMMENT-
    ADDRESS-001
      LABEL-
  FORMATTED-LOAD match_ptr, MATCH_ADR_LO
  LOGFORMAT-LOAD match_ptr[s5], MATCH_ADR_LO[10]
INSTRUCTION-LOAD
   OPERAND1-match_ptr
  OP1 VALUE-s5
   OPERAND2-MATCH_ADR_LO
  OP2 VALUE-10
    COMMENT-
    ADDRESS-002
      LABEL-
  FORMATTED-LOAD xreg, ASCII_0
  LOGFORMAT-LOAD xreg[s0], ASCII_0[30]
INSTRUCTION-LOAD
   OPERAND1-xreg
  OP1 VALUE-s0
   OPERAND2-ASCII_0
  OP2 VALUE-30
    COMMENT-
    ADDRESS-003
      LABEL-
  FORMATTED-STORE xreg, (match_ptr)
  LOGFORMAT-STORE xreg[s0], (match_ptr)[(s5)]
INSTRUCTION-STORE
   OPERAND1-xreg
  OP1 VALUE-s0
   OPERAND2-(match_ptr)
  OP2 VALUE-(s5)
    COMMENT-
    ADDRESS-004
      LABEL-
  FORMATTED-ADD match_ptr, 01
  LOGFORMAT-ADD match_ptr[s5], 01
INSTRUCTION-ADD
   OPERAND1-match_ptr
  OP1 VALUE-s5
   OPERAND2-01
  OP2 VALUE-01
    COMMENT-
    ADDRESS-005
      LABEL-
  FORMATTED-LOAD xreg, ASCII_1
  LOGFORMAT-LOAD xreg[s0], ASCII_1[31]
INSTRUCTION-LOAD
   OPERAND1-xreg
  OP1 VALUE-s0
   OPERAND2-ASCII_1
  OP2 VALUE-31
    COMMENT-
    ADDRESS-006
      LABEL-
  FORMATTED-STORE xreg, (match_ptr)
  LOGFORMAT-STORE xreg[s0], (match_ptr)[(s5)]
INSTRUCTION-STORE
   OPERAND1-xreg
  OP1 VALUE-s0
   OPERAND2-(match_ptr)
  OP2 VALUE-(s5)
    COMMENT-
    ADDRESS-007
      LABEL-
  FORMATTED-ADD match_ptr, 01
  LOGFORMAT-ADD match_ptr[s5], 01
INSTRUCTION-ADD
   OPERAND1-match_ptr
  OP1 VALUE-s5
   OPERAND2-01
  OP2 VALUE-01
    COMMENT-
    ADDRESS-008
      LABEL-
  FORMATTED-LOAD xreg, ASCII_2
  LOGFORMAT-LOAD xreg[s0], ASCII_2[32]
INSTRUCTION-LOAD
   OPERAND1-xreg
  OP1 VALUE-s0
   OPERAND2-ASCII_2
  OP2 VALUE-32
    COMMENT-
    ADDRESS-009
      LABEL-
  FORMATTED-STORE xreg, (match_ptr)
  LOGFORMAT-STORE xreg[s0], (match_ptr)[(s5)]
INSTRUCTION-STORE
   OPERAND1-xreg
  OP1 VALUE-s0
   OPERAND2-(match_ptr)
  OP2 VALUE-(s5)
    COMMENT-
    ADDRESS-00A
      LABEL-
  FORMATTED-ADD match_ptr, 01
  LOGFORMAT-ADD match_ptr[s5], 01
INSTRUCTION-ADD
   OPERAND1-match_ptr
  OP1 VALUE-s5
   OPERAND2-01
  OP2 VALUE-01
    COMMENT-
    ADDRESS-00B
      LABEL-
  FORMATTED-LOAD xreg, ASCII_3
  LOGFORMAT-LOAD xreg[s0], ASCII_3[33]
INSTRUCTION-LOAD
   OPERAND1-xreg
  OP1 VALUE-s0
   OPERAND2-ASCII_3
  OP2 VALUE-33
    COMMENT-
    ADDRESS-00C
      LABEL-
  FORMATTED-STORE xreg, (match_ptr)
  LOGFORMAT-STORE xreg[s0], (match_ptr)[(s5)]
INSTRUCTION-STORE
   OPERAND1-xreg
  OP1 VALUE-s0
   OPERAND2-(match_ptr)
  OP2 VALUE-(s5)
    COMMENT-
    ADDRESS-00D
      LABEL-
  FORMATTED-ADD match_ptr, 01
  LOGFORMAT-ADD match_ptr[s5], 01
INSTRUCTION-ADD
   OPERAND1-match_ptr
  OP1 VALUE-s5
   OPERAND2-01
  OP2 VALUE-01
    COMMENT-
    ADDRESS-00E
      LABEL-
  FORMATTED-LOAD xreg, ASCII_4
  LOGFORMAT-LOAD xreg[s0], ASCII_4[34]
INSTRUCTION-LOAD
   OPERAND1-xreg
  OP1 VALUE-s0
   OPERAND2-ASCII_4
  OP2 VALUE-34
    COMMENT-
    ADDRESS-00F
      LABEL-
  FORMATTED-STORE xreg, (match_ptr)
  LOGFORMAT-STORE xreg[s0], (match_ptr)[(s5)]
INSTRUCTION-STORE
   OPERAND1-xreg
  OP1 VALUE-s0
   OPERAND2-(match_ptr)
  OP2 VALUE-(s5)
    COMMENT-
    ADDRESS-010
      LABEL-
  FORMATTED-ADD match_ptr, 01
  LOGFORMAT-ADD match_ptr[s5], 01
INSTRUCTION-ADD
   OPERAND1-match_ptr
  OP1 VALUE-s5
   OPERAND2-01
  OP2 VALUE-01
    COMMENT-
    ADDRESS-011
      LABEL-
  FORMATTED-LOAD xreg, ASCII_5
  LOGFORMAT-LOAD xreg[s0], ASCII_5[35]
INSTRUCTION-LOAD
   OPERAND1-xreg
  OP1 VALUE-s0
   OPERAND2-ASCII_5
  OP2 VALUE-35
    COMMENT-
    ADDRESS-012
      LABEL-
  FORMATTED-STORE xreg, (match_ptr)
  LOGFORMAT-STORE xreg[s0], (match_ptr)[(s5)]
INSTRUCTION-STORE
   OPERAND1-xreg
  OP1 VALUE-s0
   OPERAND2-(match_ptr)
  OP2 VALUE-(s5)
    COMMENT-
    ADDRESS-013
      LABEL-
  FORMATTED-ADD match_ptr, 01
  LOGFORMAT-ADD match_ptr[s5], 01
INSTRUCTION-ADD
   OPERAND1-match_ptr
  OP1 VALUE-s5
   OPERAND2-01
  OP2 VALUE-01
    COMMENT-
    ADDRESS-014
      LABEL-
  FORMATTED-LOAD xreg, ASCII_6
  LOGFORMAT-LOAD xreg[s0], ASCII_6[36]
INSTRUCTION-LOAD
   OPERAND1-xreg
  OP1 VALUE-s0
   OPERAND2-ASCII_6
  OP2 VALUE-36
    COMMENT-
    ADDRESS-015
      LABEL-
  FORMATTED-STORE xreg, (match_ptr)
  LOGFORMAT-STORE xreg[s0], (match_ptr)[(s5)]
INSTRUCTION-STORE
   OPERAND1-xreg
  OP1 VALUE-s0
   OPERAND2-(match_ptr)
  OP2 VALUE-(s5)
    COMMENT-
    ADDRESS-016
      LABEL-
  FORMATTED-ADD match_ptr, 01
  LOGFORMAT-ADD match_ptr[s5], 01
INSTRUCTION-ADD
   OPERAND1-match_ptr
  OP1 VALUE-s5
   OPERAND2-01
  OP2 VALUE-01
    COMMENT-
    ADDRESS-017
      LABEL-
  FORMATTED-LOAD xreg, ASCII_7
  LOGFORMAT-LOAD xreg[s0], ASCII_7[37]
INSTRUCTION-LOAD
   OPERAND1-xreg
  OP1 VALUE-s0
   OPERAND2-ASCII_7
  OP2 VALUE-37
    COMMENT-
    ADDRESS-018
      LABEL-
  FORMATTED-STORE xreg, (match_ptr)
  LOGFORMAT-STORE xreg[s0], (match_ptr)[(s5)]
INSTRUCTION-STORE
   OPERAND1-xreg
  OP1 VALUE-s0
   OPERAND2-(match_ptr)
  OP2 VALUE-(s5)
    COMMENT-
    ADDRESS-019
      LABEL-
  FORMATTED-ADD match_ptr, 01
  LOGFORMAT-ADD match_ptr[s5], 01
INSTRUCTION-ADD
   OPERAND1-match_ptr
  OP1 VALUE-s5
   OPERAND2-01
  OP2 VALUE-01
    COMMENT-
    ADDRESS-01A
      LABEL-
  FORMATTED-LOAD xreg, ASCII_8
  LOGFORMAT-LOAD xreg[s0], ASCII_8[38]
INSTRUCTION-LOAD
   OPERAND1-xreg
  OP1 VALUE-s0
   OPERAND2-ASCII_8
  OP2 VALUE-38
    COMMENT-
    ADDRESS-01B
      LABEL-
  FORMATTED-STORE xreg, (match_ptr)
  LOGFORMAT-STORE xreg[s0], (match_ptr)[(s5)]
INSTRUCTION-STORE
   OPERAND1-xreg
  OP1 VALUE-s0
   OPERAND2-(match_ptr)
  OP2 VALUE-(s5)
    COMMENT-
    ADDRESS-01C
      LABEL-
  FORMATTED-ADD match_ptr, 01
  LOGFORMAT-ADD match_ptr[s5], 01
INSTRUCTION-ADD
   OPERAND1-match_ptr
  OP1 VALUE-s5
   OPERAND2-01
  OP2 VALUE-01
    COMMENT-
    ADDRESS-01D
      LABEL-
  FORMATTED-LOAD xreg, ASCII_9
  LOGFORMAT-LOAD xreg[s0], ASCII_9[39]
INSTRUCTION-LOAD
   OPERAND1-xreg
  OP1 VALUE-s0
   OPERAND2-ASCII_9
  OP2 VALUE-39
    COMMENT-
    ADDRESS-01E
      LABEL-
  FORMATTED-STORE xreg, (match_ptr)
  LOGFORMAT-STORE xreg[s0], (match_ptr)[(s5)]
INSTRUCTION-STORE
   OPERAND1-xreg
  OP1 VALUE-s0
   OPERAND2-(match_ptr)
  OP2 VALUE-(s5)
    COMMENT-
    ADDRESS-01F
      LABEL-
  FORMATTED-ADD match_ptr, 01
  LOGFORMAT-ADD match_ptr[s5], 01
INSTRUCTION-ADD
   OPERAND1-match_ptr
  OP1 VALUE-s5
   OPERAND2-01
  OP2 VALUE-01
    COMMENT-
    ADDRESS-020
      LABEL-
  FORMATTED-LOAD xreg, ASCII_A
  LOGFORMAT-LOAD xreg[s0], ASCII_A[41]
INSTRUCTION-LOAD
   OPERAND1-xreg
  OP1 VALUE-s0
   OPERAND2-ASCII_A
  OP2 VALUE-41
    COMMENT-
    ADDRESS-021
      LABEL-
  FORMATTED-STORE xreg, (match_ptr)
  LOGFORMAT-STORE xreg[s0], (match_ptr)[(s5)]
INSTRUCTION-STORE
   OPERAND1-xreg
  OP1 VALUE-s0
   OPERAND2-(match_ptr)
  OP2 VALUE-(s5)
    COMMENT-
    ADDRESS-022
      LABEL-
  FORMATTED-ADD match_ptr, 01
  LOGFORMAT-ADD match_ptr[s5], 01
INSTRUCTION-ADD
   OPERAND1-match_ptr
  OP1 VALUE-s5
   OPERAND2-01
  OP2 VALUE-01
    COMMENT-
    ADDRESS-023
      LABEL-
  FORMATTED-LOAD xreg, ASCII_B
  LOGFORMAT-LOAD xreg[s0], ASCII_B[42]
INSTRUCTION-LOAD
   OPERAND1-xreg
  OP1 VALUE-s0
   OPERAND2-ASCII_B
  OP2 VALUE-42
    COMMENT-
    ADDRESS-024
      LABEL-
  FORMATTED-STORE xreg, (match_ptr)
  LOGFORMAT-STORE xreg[s0], (match_ptr)[(s5)]
INSTRUCTION-STORE
   OPERAND1-xreg
  OP1 VALUE-s0
   OPERAND2-(match_ptr)
  OP2 VALUE-(s5)
    COMMENT-
    ADDRESS-025
      LABEL-
  FORMATTED-ADD match_ptr, 01
  LOGFORMAT-ADD match_ptr[s5], 01
INSTRUCTION-ADD
   OPERAND1-match_ptr
  OP1 VALUE-s5
   OPERAND2-01
  OP2 VALUE-01
    COMMENT-
    ADDRESS-026
      LABEL-
  FORMATTED-LOAD xreg, ASCII_C
  LOGFORMAT-LOAD xreg[s0], ASCII_C[43]
INSTRUCTION-LOAD
   OPERAND1-xreg
  OP1 VALUE-s0
   OPERAND2-ASCII_C
  OP2 VALUE-43
    COMMENT-
    ADDRESS-027
      LABEL-
  FORMATTED-STORE xreg, (match_ptr)
  LOGFORMAT-STORE xreg[s0], (match_ptr)[(s5)]
INSTRUCTION-STORE
   OPERAND1-xreg
  OP1 VALUE-s0
   OPERAND2-(match_ptr)
  OP2 VALUE-(s5)
    COMMENT-
    ADDRESS-028
      LABEL-
  FORMATTED-ADD match_ptr, 01
  LOGFORMAT-ADD match_ptr[s5], 01
INSTRUCTION-ADD
   OPERAND1-match_ptr
  OP1 VALUE-s5
   OPERAND2-01
  OP2 VALUE-01
    COMMENT-
    ADDRESS-029
      LABEL-
  FORMATTED-LOAD xreg, ASCII_D
  LOGFORMAT-LOAD xreg[s0], ASCII_D[44]
INSTRUCTION-LOAD
   OPERAND1-xreg
  OP1 VALUE-s0
   OPERAND2-ASCII_D
  OP2 VALUE-44
    COMMENT-
    ADDRESS-02A
      LABEL-
  FORMATTED-STORE xreg, (match_ptr)
  LOGFORMAT-STORE xreg[s0], (match_ptr)[(s5)]
INSTRUCTION-STORE
   OPERAND1-xreg
  OP1 VALUE-s0
   OPERAND2-(match_ptr)
  OP2 VALUE-(s5)
    COMMENT-
    ADDRESS-02B
      LABEL-
  FORMATTED-ADD match_ptr, 01
  LOGFORMAT-ADD match_ptr[s5], 01
INSTRUCTION-ADD
   OPERAND1-match_ptr
  OP1 VALUE-s5
   OPERAND2-01
  OP2 VALUE-01
    COMMENT-
    ADDRESS-02C
      LABEL-
  FORMATTED-LOAD xreg, ASCII_E
  LOGFORMAT-LOAD xreg[s0], ASCII_E[45]
INSTRUCTION-LOAD
   OPERAND1-xreg
  OP1 VALUE-s0
   OPERAND2-ASCII_E
  OP2 VALUE-45
    COMMENT-
    ADDRESS-02D
      LABEL-
  FORMATTED-STORE xreg, (match_ptr)
  LOGFORMAT-STORE xreg[s0], (match_ptr)[(s5)]
INSTRUCTION-STORE
   OPERAND1-xreg
  OP1 VALUE-s0
   OPERAND2-(match_ptr)
  OP2 VALUE-(s5)
    COMMENT-
    ADDRESS-02E
      LABEL-
  FORMATTED-ADD match_ptr, 01
  LOGFORMAT-ADD match_ptr[s5], 01
INSTRUCTION-ADD
   OPERAND1-match_ptr
  OP1 VALUE-s5
   OPERAND2-01
  OP2 VALUE-01
    COMMENT-
    ADDRESS-02F
      LABEL-
  FORMATTED-LOAD xreg, ASCII_F
  LOGFORMAT-LOAD xreg[s0], ASCII_F[46]
INSTRUCTION-LOAD
   OPERAND1-xreg
  OP1 VALUE-s0
   OPERAND2-ASCII_F
  OP2 VALUE-46
    COMMENT-
    ADDRESS-030
      LABEL-
  FORMATTED-STORE xreg, (match_ptr)
  LOGFORMAT-STORE xreg[s0], (match_ptr)[(s5)]
INSTRUCTION-STORE
   OPERAND1-xreg
  OP1 VALUE-s0
   OPERAND2-(match_ptr)
  OP2 VALUE-(s5)
    COMMENT-
    ADDRESS-031
      LABEL-
  FORMATTED-ADD match_ptr, 01
  LOGFORMAT-ADD match_ptr[s5], 01
INSTRUCTION-ADD
   OPERAND1-match_ptr
  OP1 VALUE-s5
   OPERAND2-01
  OP2 VALUE-01
    COMMENT-
    ADDRESS-032
      LABEL-
  FORMATTED-
  LOGFORMAT-
INSTRUCTION-
   OPERAND1-
  OP1 VALUE-
   OPERAND2-
  OP2 VALUE-
    COMMENT-;;
    ADDRESS-032
      LABEL-
  FORMATTED-
  LOGFORMAT-
INSTRUCTION-
   OPERAND1-
  OP1 VALUE-
   OPERAND2-
  OP2 VALUE-
    COMMENT-;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
    ADDRESS-032
      LABEL-
  FORMATTED-
  LOGFORMAT-
INSTRUCTION-
   OPERAND1-
  OP1 VALUE-
   OPERAND2-
  OP2 VALUE-
    COMMENT-;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
    ADDRESS-032
      LABEL-
  FORMATTED-
  LOGFORMAT-
INSTRUCTION-
   OPERAND1-
  OP1 VALUE-
   OPERAND2-
  OP2 VALUE-
    COMMENT-;; This is the main loop
    ADDRESS-032
      LABEL-
  FORMATTED-
  LOGFORMAT-
INSTRUCTION-
   OPERAND1-
  OP1 VALUE-
   OPERAND2-
  OP2 VALUE-
    COMMENT-;;
    ADDRESS-032
      LABEL-
  FORMATTED-
  LOGFORMAT-
INSTRUCTION-
   OPERAND1-
  OP1 VALUE-
   OPERAND2-
  OP2 VALUE-
    COMMENT-;; Look for new data from receiver FIFO
    ADDRESS-032
      LABEL-
  FORMATTED-
  LOGFORMAT-
INSTRUCTION-
   OPERAND1-
  OP1 VALUE-
   OPERAND2-
  OP2 VALUE-
    COMMENT-;;
    ADDRESS-032
      LABEL-poll_rx_fifo
  FORMATTED-INPUT xreg, RX_FIFO_EMPTY
  LOGFORMAT-INPUT xreg[s0], RX_FIFO_EMPTY[00]
INSTRUCTION-INPUT
   OPERAND1-xreg
  OP1 VALUE-s0
   OPERAND2-RX_FIFO_EMPTY
  OP2 VALUE-00
    COMMENT-;; Poll rx fifo empty.
    ADDRESS-033
      LABEL-
  FORMATTED-COMPARE xreg, 00
  LOGFORMAT-COMPARE xreg[s0], 00
INSTRUCTION-COMPARE
   OPERAND1-xreg
  OP1 VALUE-s0
   OPERAND2-00
  OP2 VALUE-00
    COMMENT-;; Does rx fifo have something?
    ADDRESS-034
      LABEL-
  FORMATTED-JUMP NZ, poll_rsp_fifo
  LOGFORMAT-JUMP NZ, poll_rsp_fifo[03C]
INSTRUCTION-JUMP
   OPERAND1-NZ
  OP1 VALUE-NZ
   OPERAND2-poll_rsp_fifo
  OP2 VALUE-03C
    COMMENT-;; If no, go poll rsp fifo
    ADDRESS-035
      LABEL-
  FORMATTED-CALL read_rx
  LOGFORMAT-CALL read_rx[045]
INSTRUCTION-CALL
   OPERAND1-read_rx
  OP1 VALUE-045
   OPERAND2-
  OP2 VALUE-
    COMMENT-;; Read rx and store in memory
    ADDRESS-036
      LABEL-
  FORMATTED-COMPARE retval, 00
  LOGFORMAT-COMPARE retval[sF], 00
INSTRUCTION-COMPARE
   OPERAND1-retval
  OP1 VALUE-sF
   OPERAND2-00
  OP2 VALUE-00
    COMMENT-;; Was read successful?
    ADDRESS-037
      LABEL-
  FORMATTED-JUMP NZ, poll_rsp_fifo
  LOGFORMAT-JUMP NZ, poll_rsp_fifo[03C]
INSTRUCTION-JUMP
   OPERAND1-NZ
  OP1 VALUE-NZ
   OPERAND2-poll_rsp_fifo
  OP2 VALUE-03C
    COMMENT-;; If no, skip to polling rsp fifo
    ADDRESS-038
      LABEL-
  FORMATTED-CALL rx_parse
  LOGFORMAT-CALL rx_parse[066]
INSTRUCTION-CALL
   OPERAND1-rx_parse
  OP1 VALUE-066
   OPERAND2-
  OP2 VALUE-
    COMMENT-;; Convert rx ascii to binary
    ADDRESS-039
      LABEL-
  FORMATTED-COMPARE retval, 00
  LOGFORMAT-COMPARE retval[sF], 00
INSTRUCTION-COMPARE
   OPERAND1-retval
  OP1 VALUE-sF
   OPERAND2-00
  OP2 VALUE-00
    COMMENT-;; Was parsing successful?
    ADDRESS-03A
      LABEL-
  FORMATTED-JUMP NZ, poll_rsp_fifo
  LOGFORMAT-JUMP NZ, poll_rsp_fifo[03C]
INSTRUCTION-JUMP
   OPERAND1-NZ
  OP1 VALUE-NZ
   OPERAND2-poll_rsp_fifo
  OP2 VALUE-03C
    COMMENT-;; If no, skip to polling rsp fifo
    ADDRESS-03B
      LABEL-
  FORMATTED-CALL write_cmd
  LOGFORMAT-CALL write_cmd[079]
INSTRUCTION-CALL
   OPERAND1-write_cmd
  OP1 VALUE-079
   OPERAND2-
  OP2 VALUE-
    COMMENT-;; Write binary to cmd fifo
    ADDRESS-03C
      LABEL-
  FORMATTED-
  LOGFORMAT-
INSTRUCTION-
   OPERAND1-
  OP1 VALUE-
   OPERAND2-
  OP2 VALUE-
    COMMENT-;; Look for new data from the response FIFO
    ADDRESS-03C
      LABEL-
  FORMATTED-
  LOGFORMAT-
INSTRUCTION-
   OPERAND1-
  OP1 VALUE-
   OPERAND2-
  OP2 VALUE-
    COMMENT-;;
    ADDRESS-03C
      LABEL-poll_rsp_fifo
  FORMATTED-INPUT xreg, RSP_FIFO_EMPTY
  LOGFORMAT-INPUT xreg[s0], RSP_FIFO_EMPTY[48]
INSTRUCTION-INPUT
   OPERAND1-xreg
  OP1 VALUE-s0
   OPERAND2-RSP_FIFO_EMPTY
  OP2 VALUE-48
    COMMENT-;; Poll rsp fifo empty.
    ADDRESS-03D
      LABEL-
  FORMATTED-COMPARE xreg, 00
  LOGFORMAT-COMPARE xreg[s0], 00
INSTRUCTION-COMPARE
   OPERAND1-xreg
  OP1 VALUE-s0
   OPERAND2-00
  OP2 VALUE-00
    COMMENT-;; Does rsp fifo have something?
    ADDRESS-03E
      LABEL-
  FORMATTED-JUMP NZ, poll_rx_fifo
  LOGFORMAT-JUMP NZ, poll_rx_fifo[032]
INSTRUCTION-JUMP
   OPERAND1-NZ
  OP1 VALUE-NZ
   OPERAND2-poll_rx_fifo
  OP2 VALUE-032
    COMMENT-;; In no, go poll rx fifo
    ADDRESS-03F
      LABEL-
  FORMATTED-CALL read_rsp
  LOGFORMAT-CALL read_rsp[08C]
INSTRUCTION-CALL
   OPERAND1-read_rsp
  OP1 VALUE-08C
   OPERAND2-
  OP2 VALUE-
    COMMENT-;; Read rsp and store in memory
    ADDRESS-040
      LABEL-
  FORMATTED-COMPARE retval, 00
  LOGFORMAT-COMPARE retval[sF], 00
INSTRUCTION-COMPARE
   OPERAND1-retval
  OP1 VALUE-sF
   OPERAND2-00
  OP2 VALUE-00
    COMMENT-;; Was read successful?
    ADDRESS-041
      LABEL-
  FORMATTED-JUMP NZ, poll_rx_fifo
  LOGFORMAT-JUMP NZ, poll_rx_fifo[032]
INSTRUCTION-JUMP
   OPERAND1-NZ
  OP1 VALUE-NZ
   OPERAND2-poll_rx_fifo
  OP2 VALUE-032
    COMMENT-;; If no, skip to polling rx fifo
    ADDRESS-042
      LABEL-
  FORMATTED-CALL rsp_parse
  LOGFORMAT-CALL rsp_parse[099]
INSTRUCTION-CALL
   OPERAND1-rsp_parse
  OP1 VALUE-099
   OPERAND2-
  OP2 VALUE-
    COMMENT-;; Convert rsp binary to ascii
    ADDRESS-043
      LABEL-
  FORMATTED-CALL write_tx
  LOGFORMAT-CALL write_tx[0AA]
INSTRUCTION-CALL
   OPERAND1-write_tx
  OP1 VALUE-0AA
   OPERAND2-
  OP2 VALUE-
    COMMENT-;; Write ascii to tx fifo
    ADDRESS-044
      LABEL-
  FORMATTED-JUMP poll_rx_fifo
  LOGFORMAT-JUMP poll_rx_fifo[032]
INSTRUCTION-JUMP
   OPERAND1-poll_rx_fifo
  OP1 VALUE-032
   OPERAND2-
  OP2 VALUE-
    COMMENT-;; Spin forever
    ADDRESS-045
      LABEL-
  FORMATTED-
  LOGFORMAT-
INSTRUCTION-
   OPERAND1-
  OP1 VALUE-
   OPERAND2-
  OP2 VALUE-
    COMMENT-;;
    ADDRESS-045
      LABEL-
  FORMATTED-
  LOGFORMAT-
INSTRUCTION-
   OPERAND1-
  OP1 VALUE-
   OPERAND2-
  OP2 VALUE-
    COMMENT-;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
    ADDRESS-045
      LABEL-
  FORMATTED-
  LOGFORMAT-
INSTRUCTION-
   OPERAND1-
  OP1 VALUE-
   OPERAND2-
  OP2 VALUE-
    COMMENT-;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
    ADDRESS-045
      LABEL-
  FORMATTED-
  LOGFORMAT-
INSTRUCTION-
   OPERAND1-
  OP1 VALUE-
   OPERAND2-
  OP2 VALUE-
    COMMENT-;; Wait for rx fifo to have 'x', which is the start char. Then read it in
    ADDRESS-045
      LABEL-
  FORMATTED-
  LOGFORMAT-
INSTRUCTION-
   OPERAND1-
  OP1 VALUE-
   OPERAND2-
  OP2 VALUE-
    COMMENT-;; and store all hexchars of command. (Note: these are parsed later.)
    ADDRESS-045
      LABEL-
  FORMATTED-
  LOGFORMAT-
INSTRUCTION-
   OPERAND1-
  OP1 VALUE-
   OPERAND2-
  OP2 VALUE-
    COMMENT-;; Finally, read in one more char and return an error if it's not the
    ADDRESS-045
      LABEL-
  FORMATTED-
  LOGFORMAT-
INSTRUCTION-
   OPERAND1-
  OP1 VALUE-
   OPERAND2-
  OP2 VALUE-
    COMMENT-;; sentinel. If, at any point, you timeout while waiting for the rx fifo,
    ADDRESS-045
      LABEL-
  FORMATTED-
  LOGFORMAT-
INSTRUCTION-
   OPERAND1-
  OP1 VALUE-
   OPERAND2-
  OP2 VALUE-
    COMMENT-;; abort and return 1.
    ADDRESS-045
      LABEL-
  FORMATTED-
  LOGFORMAT-
INSTRUCTION-
   OPERAND1-
  OP1 VALUE-
   OPERAND2-
  OP2 VALUE-
    COMMENT-;;
    ADDRESS-045
      LABEL-
  FORMATTED-
  LOGFORMAT-
INSTRUCTION-
   OPERAND1-
  OP1 VALUE-
   OPERAND2-
  OP2 VALUE-
    COMMENT-;; Returns: 0, command successfully read from rx fifo
    ADDRESS-045
      LABEL-
  FORMATTED-
  LOGFORMAT-
INSTRUCTION-
   OPERAND1-
  OP1 VALUE-
   OPERAND2-
  OP2 VALUE-
    COMMENT-;;          1, command not successfully read from rx fifo
    ADDRESS-045
      LABEL-
  FORMATTED-
  LOGFORMAT-
INSTRUCTION-
   OPERAND1-
  OP1 VALUE-
   OPERAND2-
  OP2 VALUE-
    COMMENT-;;
    ADDRESS-045
      LABEL-read_rx
  FORMATTED-CALL get_rx_char
  LOGFORMAT-CALL get_rx_char[05A]
INSTRUCTION-CALL
   OPERAND1-get_rx_char
  OP1 VALUE-05A
   OPERAND2-
  OP2 VALUE-
    COMMENT-;; Get a char from the rx fifo
    ADDRESS-046
      LABEL-
  FORMATTED-COMPARE retval, 01
  LOGFORMAT-COMPARE retval[sF], 01
INSTRUCTION-COMPARE
   OPERAND1-retval
  OP1 VALUE-sF
   OPERAND2-01
  OP2 VALUE-01
    COMMENT-;; Did we timeout?
    ADDRESS-047
      LABEL-
  FORMATTED-JUMP Z, return1
  LOGFORMAT-JUMP Z, return1[0BC]
INSTRUCTION-JUMP
   OPERAND1-Z
  OP1 VALUE-Z
   OPERAND2-return1
  OP2 VALUE-0BC
    COMMENT-;; If yes, return with an error
    ADDRESS-048
      LABEL-
  FORMATTED-COMPARE xreg, ASCII_x
  LOGFORMAT-COMPARE xreg[s0], ASCII_x[78]
INSTRUCTION-COMPARE
   OPERAND1-xreg
  OP1 VALUE-s0
   OPERAND2-ASCII_x
  OP2 VALUE-78
    COMMENT-;; Is it the start character?
    ADDRESS-049
      LABEL-
  FORMATTED-JUMP NZ, read_rx
  LOGFORMAT-JUMP NZ, read_rx[045]
INSTRUCTION-JUMP
   OPERAND1-NZ
  OP1 VALUE-NZ
   OPERAND2-read_rx
  OP2 VALUE-045
    COMMENT-;; If no, loop read_rx
    ADDRESS-04A
      LABEL-
  FORMATTED-LOAD ascii_ptr, ASCII_ADR_HI
  LOGFORMAT-LOAD ascii_ptr[s2], ASCII_ADR_HI[07]
INSTRUCTION-LOAD
   OPERAND1-ascii_ptr
  OP1 VALUE-s2
   OPERAND2-ASCII_ADR_HI
  OP2 VALUE-07
    COMMENT-;; Init ascii pointer
    ADDRESS-04B
      LABEL-read_rx_l1
  FORMATTED-CALL get_rx_char
  LOGFORMAT-CALL get_rx_char[05A]
INSTRUCTION-CALL
   OPERAND1-get_rx_char
  OP1 VALUE-05A
   OPERAND2-
  OP2 VALUE-
    COMMENT-;; Go get the char, store in xreg
    ADDRESS-04C
      LABEL-
  FORMATTED-COMPARE retval, 01
  LOGFORMAT-COMPARE retval[sF], 01
INSTRUCTION-COMPARE
   OPERAND1-retval
  OP1 VALUE-sF
   OPERAND2-01
  OP2 VALUE-01
    COMMENT-;; Did we successfully read a char?
    ADDRESS-04D
      LABEL-
  FORMATTED-JUMP Z, return1
  LOGFORMAT-JUMP Z, return1[0BC]
INSTRUCTION-JUMP
   OPERAND1-Z
  OP1 VALUE-Z
   OPERAND2-return1
  OP2 VALUE-0BC
    COMMENT-;; If no, return 1
    ADDRESS-04E
      LABEL-
  FORMATTED-STORE xreg, (ascii_ptr)
  LOGFORMAT-STORE xreg[s0], (ascii_ptr)[(s2)]
INSTRUCTION-STORE
   OPERAND1-xreg
  OP1 VALUE-s0
   OPERAND2-(ascii_ptr)
  OP2 VALUE-(s2)
    COMMENT-;; Store new char
    ADDRESS-04F
      LABEL-
  FORMATTED-SUB ascii_ptr, 01
  LOGFORMAT-SUB ascii_ptr[s2], 01
INSTRUCTION-SUB
   OPERAND1-ascii_ptr
  OP1 VALUE-s2
   OPERAND2-01
  OP2 VALUE-01
    COMMENT-;; Calc new char's mem loc
    ADDRESS-050
      LABEL-
  FORMATTED-COMPARE ascii_ptr, ASCII_ADR_ORL
  LOGFORMAT-COMPARE ascii_ptr[s2], ASCII_ADR_ORL[FF]
INSTRUCTION-COMPARE
   OPERAND1-ascii_ptr
  OP1 VALUE-s2
   OPERAND2-ASCII_ADR_ORL
  OP2 VALUE-FF
    COMMENT-;; Are we done reading chars?
    ADDRESS-051
      LABEL-
  FORMATTED-JUMP NZ, read_rx_l1
  LOGFORMAT-JUMP NZ, read_rx_l1[04B]
INSTRUCTION-JUMP
   OPERAND1-NZ
  OP1 VALUE-NZ
   OPERAND2-read_rx_l1
  OP2 VALUE-04B
    COMMENT-;; If no, loop l1
    ADDRESS-052
      LABEL-
  FORMATTED-CALL get_rx_char
  LOGFORMAT-CALL get_rx_char[05A]
INSTRUCTION-CALL
   OPERAND1-get_rx_char
  OP1 VALUE-05A
   OPERAND2-
  OP2 VALUE-
    COMMENT-;; Get the last character
    ADDRESS-053
      LABEL-
  FORMATTED-COMPARE retval, 01
  LOGFORMAT-COMPARE retval[sF], 01
INSTRUCTION-COMPARE
   OPERAND1-retval
  OP1 VALUE-sF
   OPERAND2-01
  OP2 VALUE-01
    COMMENT-;; Did we timeout?
    ADDRESS-054
      LABEL-
  FORMATTED-JUMP Z, return1
  LOGFORMAT-JUMP Z, return1[0BC]
INSTRUCTION-JUMP
   OPERAND1-Z
  OP1 VALUE-Z
   OPERAND2-return1
  OP2 VALUE-0BC
    COMMENT-;; If yes, return with error
    ADDRESS-055
      LABEL-
  FORMATTED-COMPARE xreg, ASCII_lf
  LOGFORMAT-COMPARE xreg[s0], ASCII_lf[0A]
INSTRUCTION-COMPARE
   OPERAND1-xreg
  OP1 VALUE-s0
   OPERAND2-ASCII_lf
  OP2 VALUE-0A
    COMMENT-;; Is it linefeed?
    ADDRESS-056
      LABEL-
  FORMATTED-JUMP Z, return0
  LOGFORMAT-JUMP Z, return0[0BA]
INSTRUCTION-JUMP
   OPERAND1-Z
  OP1 VALUE-Z
   OPERAND2-return0
  OP2 VALUE-0BA
    COMMENT-;; If yes, SUCCESS! Return 0!
    ADDRESS-057
      LABEL-
  FORMATTED-COMPARE xreg, ASCII_space
  LOGFORMAT-COMPARE xreg[s0], ASCII_space[20]
INSTRUCTION-COMPARE
   OPERAND1-xreg
  OP1 VALUE-s0
   OPERAND2-ASCII_space
  OP2 VALUE-20
    COMMENT-;; Is it space?
    ADDRESS-058
      LABEL-
  FORMATTED-JUMP Z, return0
  LOGFORMAT-JUMP Z, return0[0BA]
INSTRUCTION-JUMP
   OPERAND1-Z
  OP1 VALUE-Z
   OPERAND2-return0
  OP2 VALUE-0BA
    COMMENT-;; If yes, SUCCESS! Return 0!
    ADDRESS-059
      LABEL-
  FORMATTED-JUMP return1
  LOGFORMAT-JUMP return1[0BC]
INSTRUCTION-JUMP
   OPERAND1-return1
  OP1 VALUE-0BC
   OPERAND2-
  OP2 VALUE-
    COMMENT-;; FAIL! No sentinel! Return 1!
    ADDRESS-05A
      LABEL-get_rx_char
  FORMATTED-LOAD cnt0, FF
  LOGFORMAT-LOAD cnt0[sD], FF
INSTRUCTION-LOAD
   OPERAND1-cnt0
  OP1 VALUE-sD
   OPERAND2-FF
  OP2 VALUE-FF
    COMMENT-;; Init outer counter
    ADDRESS-05B
      LABEL-get_rx_char_l1
  FORMATTED-LOAD cnt1, FF
  LOGFORMAT-LOAD cnt1[sE], FF
INSTRUCTION-LOAD
   OPERAND1-cnt1
  OP1 VALUE-sE
   OPERAND2-FF
  OP2 VALUE-FF
    COMMENT-;; Init inner counter
    ADDRESS-05C
      LABEL-get_rx_char_l2
  FORMATTED-INPUT xreg, RX_FIFO_EMPTY
  LOGFORMAT-INPUT xreg[s0], RX_FIFO_EMPTY[00]
INSTRUCTION-INPUT
   OPERAND1-xreg
  OP1 VALUE-s0
   OPERAND2-RX_FIFO_EMPTY
  OP2 VALUE-00
    COMMENT-;; read the rx fifo empty signal
    ADDRESS-05D
      LABEL-
  FORMATTED-COMPARE xreg, 00
  LOGFORMAT-COMPARE xreg[s0], 00
INSTRUCTION-COMPARE
   OPERAND1-xreg
  OP1 VALUE-s0
   OPERAND2-00
  OP2 VALUE-00
    COMMENT-;; Does rx fifo have something?
    ADDRESS-05E
      LABEL-
  FORMATTED-JUMP Z, get_rx_char_rd
  LOGFORMAT-JUMP Z, get_rx_char_rd[064]
INSTRUCTION-JUMP
   OPERAND1-Z
  OP1 VALUE-Z
   OPERAND2-get_rx_char_rd
  OP2 VALUE-064
    COMMENT-;; If yes, go read it in
    ADDRESS-05F
      LABEL-
  FORMATTED-SUB cnt1, 01
  LOGFORMAT-SUB cnt1[sE], 01
INSTRUCTION-SUB
   OPERAND1-cnt1
  OP1 VALUE-sE
   OPERAND2-01
  OP2 VALUE-01
    COMMENT-;; Decrement inner counter
    ADDRESS-060
      LABEL-
  FORMATTED-JUMP NZ, get_rx_char_l2
  LOGFORMAT-JUMP NZ, get_rx_char_l2[05C]
INSTRUCTION-JUMP
   OPERAND1-NZ
  OP1 VALUE-NZ
   OPERAND2-get_rx_char_l2
  OP2 VALUE-05C
    COMMENT-;; Loop inner if not expired
    ADDRESS-061
      LABEL-
  FORMATTED-SUB cnt0, 01
  LOGFORMAT-SUB cnt0[sD], 01
INSTRUCTION-SUB
   OPERAND1-cnt0
  OP1 VALUE-sD
   OPERAND2-01
  OP2 VALUE-01
    COMMENT-;; Decrement outer counter
    ADDRESS-062
      LABEL-
  FORMATTED-JUMP NZ, get_rx_char_l1
  LOGFORMAT-JUMP NZ, get_rx_char_l1[05B]
INSTRUCTION-JUMP
   OPERAND1-NZ
  OP1 VALUE-NZ
   OPERAND2-get_rx_char_l1
  OP2 VALUE-05B
    COMMENT-;; Loop outer if not expired
    ADDRESS-063
      LABEL-
  FORMATTED-JUMP return1
  LOGFORMAT-JUMP return1[0BC]
INSTRUCTION-JUMP
   OPERAND1-return1
  OP1 VALUE-0BC
   OPERAND2-
  OP2 VALUE-
    COMMENT-;; FAIL! Return 1!
    ADDRESS-064
      LABEL-get_rx_char_rd
  FORMATTED-INPUT xreg, RX_FIFO_READ
  LOGFORMAT-INPUT xreg[s0], RX_FIFO_READ[01]
INSTRUCTION-INPUT
   OPERAND1-xreg
  OP1 VALUE-s0
   OPERAND2-RX_FIFO_READ
  OP2 VALUE-01
    COMMENT-;; Read in RX FIFO
    ADDRESS-065
      LABEL-
  FORMATTED-JUMP return0
  LOGFORMAT-JUMP return0[0BA]
INSTRUCTION-JUMP
   OPERAND1-return0
  OP1 VALUE-0BA
   OPERAND2-
  OP2 VALUE-
    COMMENT-;; SUCCESS! Return 0!
    ADDRESS-066
      LABEL-
  FORMATTED-
  LOGFORMAT-
INSTRUCTION-
   OPERAND1-
  OP1 VALUE-
   OPERAND2-
  OP2 VALUE-
    COMMENT-;;
    ADDRESS-066
      LABEL-
  FORMATTED-
  LOGFORMAT-
INSTRUCTION-
   OPERAND1-
  OP1 VALUE-
   OPERAND2-
  OP2 VALUE-
    COMMENT-;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
    ADDRESS-066
      LABEL-
  FORMATTED-
  LOGFORMAT-
INSTRUCTION-
   OPERAND1-
  OP1 VALUE-
   OPERAND2-
  OP2 VALUE-
    COMMENT-;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
    ADDRESS-066
      LABEL-
  FORMATTED-
  LOGFORMAT-
INSTRUCTION-
   OPERAND1-
  OP1 VALUE-
   OPERAND2-
  OP2 VALUE-
    COMMENT-;; Parse through the ascii rx packet, testing the current character
    ADDRESS-066
      LABEL-
  FORMATTED-
  LOGFORMAT-
INSTRUCTION-
   OPERAND1-
  OP1 VALUE-
   OPERAND2-
  OP2 VALUE-
    COMMENT-;; against our constant array of matching characters. Store the binary
    ADDRESS-066
      LABEL-
  FORMATTED-
  LOGFORMAT-
INSTRUCTION-
   OPERAND1-
  OP1 VALUE-
   OPERAND2-
  OP2 VALUE-
    COMMENT-;; equivalent result in scratch pad memory.
    ADDRESS-066
      LABEL-
  FORMATTED-
  LOGFORMAT-
INSTRUCTION-
   OPERAND1-
  OP1 VALUE-
   OPERAND2-
  OP2 VALUE-
    COMMENT-;;
    ADDRESS-066
      LABEL-
  FORMATTED-
  LOGFORMAT-
INSTRUCTION-
   OPERAND1-
  OP1 VALUE-
   OPERAND2-
  OP2 VALUE-
    COMMENT-;; We require 8 hexchars ('0' thru '9' or 'A' thru 'F'). If anything is
    ADDRESS-066
      LABEL-
  FORMATTED-
  LOGFORMAT-
INSTRUCTION-
   OPERAND1-
  OP1 VALUE-
   OPERAND2-
  OP2 VALUE-
    COMMENT-;; amiss, abort.
    ADDRESS-066
      LABEL-
  FORMATTED-
  LOGFORMAT-
INSTRUCTION-
   OPERAND1-
  OP1 VALUE-
   OPERAND2-
  OP2 VALUE-
    COMMENT-;;
    ADDRESS-066
      LABEL-
  FORMATTED-
  LOGFORMAT-
INSTRUCTION-
   OPERAND1-
  OP1 VALUE-
   OPERAND2-
  OP2 VALUE-
    COMMENT-;; Returns: 0, parse sucessful
    ADDRESS-066
      LABEL-
  FORMATTED-
  LOGFORMAT-
INSTRUCTION-
   OPERAND1-
  OP1 VALUE-
   OPERAND2-
  OP2 VALUE-
    COMMENT-;;          1, parse aborted
    ADDRESS-066
      LABEL-
  FORMATTED-
  LOGFORMAT-
INSTRUCTION-
   OPERAND1-
  OP1 VALUE-
   OPERAND2-
  OP2 VALUE-
    COMMENT-;;
    ADDRESS-066
      LABEL-rx_parse
  FORMATTED-LOAD ascii_ptr, ASCII_ADR_LO
  LOGFORMAT-LOAD ascii_ptr[s2], ASCII_ADR_LO[00]
INSTRUCTION-LOAD
   OPERAND1-ascii_ptr
  OP1 VALUE-s2
   OPERAND2-ASCII_ADR_LO
  OP2 VALUE-00
    COMMENT-;; Init the ascii pointer
    ADDRESS-067
      LABEL-
  FORMATTED-LOAD bin_ptr, BIN_ADR_LO
  LOGFORMAT-LOAD bin_ptr[s4], BIN_ADR_LO[08]
INSTRUCTION-LOAD
   OPERAND1-bin_ptr
  OP1 VALUE-s4
   OPERAND2-BIN_ADR_LO
  OP2 VALUE-08
    COMMENT-;; Init the binary pointer
    ADDRESS-068
      LABEL-rx_parse_l2
  FORMATTED-LOAD match_ptr, MATCH_ADR_LO
  LOGFORMAT-LOAD match_ptr[s5], MATCH_ADR_LO[10]
INSTRUCTION-LOAD
   OPERAND1-match_ptr
  OP1 VALUE-s5
   OPERAND2-MATCH_ADR_LO
  OP2 VALUE-10
    COMMENT-;; Init match pointer
    ADDRESS-069
      LABEL-
  FORMATTED-LOAD bin_eqv, 00
  LOGFORMAT-LOAD bin_eqv[s3], 00
INSTRUCTION-LOAD
   OPERAND1-bin_eqv
  OP1 VALUE-s3
   OPERAND2-00
  OP2 VALUE-00
    COMMENT-;; Init binary equivalent value
    ADDRESS-06A
      LABEL-rx_parse_l1
  FORMATTED-FETCH xreg, (ascii_ptr)
  LOGFORMAT-FETCH xreg[s0], (ascii_ptr)[(s2)]
INSTRUCTION-FETCH
   OPERAND1-xreg
  OP1 VALUE-s0
   OPERAND2-(ascii_ptr)
  OP2 VALUE-(s2)
    COMMENT-;; Get the first hexchar
    ADDRESS-06B
      LABEL-
  FORMATTED-FETCH yreg, (match_ptr)
  LOGFORMAT-FETCH yreg[s1], (match_ptr)[(s5)]
INSTRUCTION-FETCH
   OPERAND1-yreg
  OP1 VALUE-s1
   OPERAND2-(match_ptr)
  OP2 VALUE-(s5)
    COMMENT-;; Get the first match for test
    ADDRESS-06C
      LABEL-
  FORMATTED-COMPARE xreg, yreg
  LOGFORMAT-COMPARE xreg[s0], yreg[s1]
INSTRUCTION-COMPARE
   OPERAND1-xreg
  OP1 VALUE-s0
   OPERAND2-yreg
  OP2 VALUE-s1
    COMMENT-;; Does hexchar match?
    ADDRESS-06D
      LABEL-
  FORMATTED-JUMP Z, rx_parse_sbe
  LOGFORMAT-JUMP Z, rx_parse_sbe[073]
INSTRUCTION-JUMP
   OPERAND1-Z
  OP1 VALUE-Z
   OPERAND2-rx_parse_sbe
  OP2 VALUE-073
    COMMENT-;; If yes, store binary equiv
    ADDRESS-06E
      LABEL-
  FORMATTED-COMPARE match_ptr, MATCH_ADR_HI
  LOGFORMAT-COMPARE match_ptr[s5], MATCH_ADR_HI[1F]
INSTRUCTION-COMPARE
   OPERAND1-match_ptr
  OP1 VALUE-s5
   OPERAND2-MATCH_ADR_HI
  OP2 VALUE-1F
    COMMENT-;; Have we tested all match?
    ADDRESS-06F
      LABEL-
  FORMATTED-JUMP Z, return1
  LOGFORMAT-JUMP Z, return1[0BC]
INSTRUCTION-JUMP
   OPERAND1-Z
  OP1 VALUE-Z
   OPERAND2-return1
  OP2 VALUE-0BC
    COMMENT-;; If yes, match failed! Abort!
    ADDRESS-070
      LABEL-
  FORMATTED-ADD match_ptr, 01
  LOGFORMAT-ADD match_ptr[s5], 01
INSTRUCTION-ADD
   OPERAND1-match_ptr
  OP1 VALUE-s5
   OPERAND2-01
  OP2 VALUE-01
    COMMENT-;; If no, increment match address
    ADDRESS-071
      LABEL-
  FORMATTED-ADD bin_eqv, 01
  LOGFORMAT-ADD bin_eqv[s3], 01
INSTRUCTION-ADD
   OPERAND1-bin_eqv
  OP1 VALUE-s3
   OPERAND2-01
  OP2 VALUE-01
    COMMENT-;; If no, increment binary equiv
    ADDRESS-072
      LABEL-
  FORMATTED-JUMP rx_parse_l1
  LOGFORMAT-JUMP rx_parse_l1[06A]
INSTRUCTION-JUMP
   OPERAND1-rx_parse_l1
  OP1 VALUE-06A
   OPERAND2-
  OP2 VALUE-
    COMMENT-;; Loop
    ADDRESS-073
      LABEL-rx_parse_sbe
  FORMATTED-STORE bin_eqv, (bin_ptr)
  LOGFORMAT-STORE bin_eqv[s3], (bin_ptr)[(s4)]
INSTRUCTION-STORE
   OPERAND1-bin_eqv
  OP1 VALUE-s3
   OPERAND2-(bin_ptr)
  OP2 VALUE-(s4)
    COMMENT-;; Store bin equiv at bin pointer
    ADDRESS-074
      LABEL-
  FORMATTED-ADD bin_ptr, 01
  LOGFORMAT-ADD bin_ptr[s4], 01
INSTRUCTION-ADD
   OPERAND1-bin_ptr
  OP1 VALUE-s4
   OPERAND2-01
  OP2 VALUE-01
    COMMENT-;; Increment bin pointer
    ADDRESS-075
      LABEL-
  FORMATTED-ADD ascii_ptr, 01
  LOGFORMAT-ADD ascii_ptr[s2], 01
INSTRUCTION-ADD
   OPERAND1-ascii_ptr
  OP1 VALUE-s2
   OPERAND2-01
  OP2 VALUE-01
    COMMENT-;; Increment ascii pointer
    ADDRESS-076
      LABEL-
  FORMATTED-COMPARE ascii_ptr, ASCII_ADR_ORH
  LOGFORMAT-COMPARE ascii_ptr[s2], ASCII_ADR_ORH[08]
INSTRUCTION-COMPARE
   OPERAND1-ascii_ptr
  OP1 VALUE-s2
   OPERAND2-ASCII_ADR_ORH
  OP2 VALUE-08
    COMMENT-;; Parsed all 8 characters?
    ADDRESS-077
      LABEL-
  FORMATTED-JUMP NZ, rx_parse_l2
  LOGFORMAT-JUMP NZ, rx_parse_l2[068]
INSTRUCTION-JUMP
   OPERAND1-NZ
  OP1 VALUE-NZ
   OPERAND2-rx_parse_l2
  OP2 VALUE-068
    COMMENT-;; If no, loop l2
    ADDRESS-078
      LABEL-
  FORMATTED-JUMP return0
  LOGFORMAT-JUMP return0[0BA]
INSTRUCTION-JUMP
   OPERAND1-return0
  OP1 VALUE-0BA
   OPERAND2-
  OP2 VALUE-
    COMMENT-;; Success! Return 0!
    ADDRESS-079
      LABEL-
  FORMATTED-
  LOGFORMAT-
INSTRUCTION-
   OPERAND1-
  OP1 VALUE-
   OPERAND2-
  OP2 VALUE-
    COMMENT-;;
    ADDRESS-079
      LABEL-
  FORMATTED-
  LOGFORMAT-
INSTRUCTION-
   OPERAND1-
  OP1 VALUE-
   OPERAND2-
  OP2 VALUE-
    COMMENT-;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
    ADDRESS-079
      LABEL-
  FORMATTED-
  LOGFORMAT-
INSTRUCTION-
   OPERAND1-
  OP1 VALUE-
   OPERAND2-
  OP2 VALUE-
    COMMENT-;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
    ADDRESS-079
      LABEL-
  FORMATTED-
  LOGFORMAT-
INSTRUCTION-
   OPERAND1-
  OP1 VALUE-
   OPERAND2-
  OP2 VALUE-
    COMMENT-;; Write all nybbles of the command word. Wait for CMD FIFO not full.
    ADDRESS-079
      LABEL-
  FORMATTED-
  LOGFORMAT-
INSTRUCTION-
   OPERAND1-
  OP1 VALUE-
   OPERAND2-
  OP2 VALUE-
    COMMENT-;; If timeout, abort and return 1.
    ADDRESS-079
      LABEL-
  FORMATTED-
  LOGFORMAT-
INSTRUCTION-
   OPERAND1-
  OP1 VALUE-
   OPERAND2-
  OP2 VALUE-
    COMMENT-;;
    ADDRESS-079
      LABEL-
  FORMATTED-
  LOGFORMAT-
INSTRUCTION-
   OPERAND1-
  OP1 VALUE-
   OPERAND2-
  OP2 VALUE-
    COMMENT-;; Returns: 0, CMD word successfully written to CMD FIFO
    ADDRESS-079
      LABEL-
  FORMATTED-
  LOGFORMAT-
INSTRUCTION-
   OPERAND1-
  OP1 VALUE-
   OPERAND2-
  OP2 VALUE-
    COMMENT-;;          1, CMD word not successfully written to CMD FIFO
    ADDRESS-079
      LABEL-
  FORMATTED-
  LOGFORMAT-
INSTRUCTION-
   OPERAND1-
  OP1 VALUE-
   OPERAND2-
  OP2 VALUE-
    COMMENT-;;
    ADDRESS-079
      LABEL-write_cmd
  FORMATTED-LOAD cnt0, FF
  LOGFORMAT-LOAD cnt0[sD], FF
INSTRUCTION-LOAD
   OPERAND1-cnt0
  OP1 VALUE-sD
   OPERAND2-FF
  OP2 VALUE-FF
    COMMENT-;; Init outer counter
    ADDRESS-07A
      LABEL-write_cmd_l1
  FORMATTED-LOAD cnt1, FF
  LOGFORMAT-LOAD cnt1[sE], FF
INSTRUCTION-LOAD
   OPERAND1-cnt1
  OP1 VALUE-sE
   OPERAND2-FF
  OP2 VALUE-FF
    COMMENT-;; Init inner counter
    ADDRESS-07B
      LABEL-write_cmd_l2
  FORMATTED-INPUT xreg, CMD_FIFO_FULL
  LOGFORMAT-INPUT xreg[s0], CMD_FIFO_FULL[28]
INSTRUCTION-INPUT
   OPERAND1-xreg
  OP1 VALUE-s0
   OPERAND2-CMD_FIFO_FULL
  OP2 VALUE-28
    COMMENT-;; Read the CMD FIFO full signal
    ADDRESS-07C
      LABEL-
  FORMATTED-COMPARE xreg, 00
  LOGFORMAT-COMPARE xreg[s0], 00
INSTRUCTION-COMPARE
   OPERAND1-xreg
  OP1 VALUE-s0
   OPERAND2-00
  OP2 VALUE-00
    COMMENT-;; Is CMD_FIFO full?
    ADDRESS-07D
      LABEL-
  FORMATTED-JUMP Z, cmd_wr
  LOGFORMAT-JUMP Z, cmd_wr[083]
INSTRUCTION-JUMP
   OPERAND1-Z
  OP1 VALUE-Z
   OPERAND2-cmd_wr
  OP2 VALUE-083
    COMMENT-;; If no, set command nybbles and write
    ADDRESS-07E
      LABEL-
  FORMATTED-SUB cnt1, 01
  LOGFORMAT-SUB cnt1[sE], 01
INSTRUCTION-SUB
   OPERAND1-cnt1
  OP1 VALUE-sE
   OPERAND2-01
  OP2 VALUE-01
    COMMENT-;; Decrement inner couter
    ADDRESS-07F
      LABEL-
  FORMATTED-JUMP NZ, write_cmd_l2
  LOGFORMAT-JUMP NZ, write_cmd_l2[07B]
INSTRUCTION-JUMP
   OPERAND1-NZ
  OP1 VALUE-NZ
   OPERAND2-write_cmd_l2
  OP2 VALUE-07B
    COMMENT-;; Loop inner if not expired
    ADDRESS-080
      LABEL-
  FORMATTED-SUB cnt0, 01
  LOGFORMAT-SUB cnt0[sD], 01
INSTRUCTION-SUB
   OPERAND1-cnt0
  OP1 VALUE-sD
   OPERAND2-01
  OP2 VALUE-01
    COMMENT-;; Decrement outer counter
    ADDRESS-081
      LABEL-
  FORMATTED-JUMP NZ, write_cmd_l1
  LOGFORMAT-JUMP NZ, write_cmd_l1[07A]
INSTRUCTION-JUMP
   OPERAND1-NZ
  OP1 VALUE-NZ
   OPERAND2-write_cmd_l1
  OP2 VALUE-07A
    COMMENT-;; Loop outer if not expired
    ADDRESS-082
      LABEL-
  FORMATTED-JUMP return1
  LOGFORMAT-JUMP return1[0BC]
INSTRUCTION-JUMP
   OPERAND1-return1
  OP1 VALUE-0BC
   OPERAND2-
  OP2 VALUE-
    COMMENT-;; FAIL! Return 1!
    ADDRESS-083
      LABEL-cmd_wr
  FORMATTED-LOAD bin_ptr, BIN_ADR_LO
  LOGFORMAT-LOAD bin_ptr[s4], BIN_ADR_LO[08]
INSTRUCTION-LOAD
   OPERAND1-bin_ptr
  OP1 VALUE-s4
   OPERAND2-BIN_ADR_LO
  OP2 VALUE-08
    COMMENT-;; Init binary pointer
    ADDRESS-084
      LABEL-
  FORMATTED-LOAD cmd_pid, CMD_FIFO_DATA0
  LOGFORMAT-LOAD cmd_pid[s6], CMD_FIFO_DATA0[20]
INSTRUCTION-LOAD
   OPERAND1-cmd_pid
  OP1 VALUE-s6
   OPERAND2-CMD_FIFO_DATA0
  OP2 VALUE-20
    COMMENT-;; Init command port id pointer
    ADDRESS-085
      LABEL-cmd_wr_l1
  FORMATTED-FETCH bin_eqv, (bin_ptr)
  LOGFORMAT-FETCH bin_eqv[s3], (bin_ptr)[(s4)]
INSTRUCTION-FETCH
   OPERAND1-bin_eqv
  OP1 VALUE-s3
   OPERAND2-(bin_ptr)
  OP2 VALUE-(s4)
    COMMENT-;; Get the bin eqv from memory
    ADDRESS-086
      LABEL-
  FORMATTED-OUTPUT bin_eqv, (cmd_pid)
  LOGFORMAT-OUTPUT bin_eqv[s3], (cmd_pid)[(s6)]
INSTRUCTION-OUTPUT
   OPERAND1-bin_eqv
  OP1 VALUE-s3
   OPERAND2-(cmd_pid)
  OP2 VALUE-(s6)
    COMMENT-;; Set the output nybble
    ADDRESS-087
      LABEL-
  FORMATTED-ADD bin_ptr, 01
  LOGFORMAT-ADD bin_ptr[s4], 01
INSTRUCTION-ADD
   OPERAND1-bin_ptr
  OP1 VALUE-s4
   OPERAND2-01
  OP2 VALUE-01
    COMMENT-;; Incrememt bin_ptr
    ADDRESS-088
      LABEL-
  FORMATTED-ADD cmd_pid, 01
  LOGFORMAT-ADD cmd_pid[s6], 01
INSTRUCTION-ADD
   OPERAND1-cmd_pid
  OP1 VALUE-s6
   OPERAND2-01
  OP2 VALUE-01
    COMMENT-;; Increment cmd_pid
    ADDRESS-089
      LABEL-
  FORMATTED-COMPARE bin_ptr, BIN_ADR_ORH
  LOGFORMAT-COMPARE bin_ptr[s4], BIN_ADR_ORH[10]
INSTRUCTION-COMPARE
   OPERAND1-bin_ptr
  OP1 VALUE-s4
   OPERAND2-BIN_ADR_ORH
  OP2 VALUE-10
    COMMENT-;; Are we done writing?
    ADDRESS-08A
      LABEL-
  FORMATTED-JUMP NZ, cmd_wr_l1
  LOGFORMAT-JUMP NZ, cmd_wr_l1[085]
INSTRUCTION-JUMP
   OPERAND1-NZ
  OP1 VALUE-NZ
   OPERAND2-cmd_wr_l1
  OP2 VALUE-085
    COMMENT-;; If no, loop.
    ADDRESS-08B
      LABEL-
  FORMATTED-JUMP return0
  LOGFORMAT-JUMP return0[0BA]
INSTRUCTION-JUMP
   OPERAND1-return0
  OP1 VALUE-0BA
   OPERAND2-
  OP2 VALUE-
    COMMENT-;; Done
    ADDRESS-08C
      LABEL-
  FORMATTED-
  LOGFORMAT-
INSTRUCTION-
   OPERAND1-
  OP1 VALUE-
   OPERAND2-
  OP2 VALUE-
    COMMENT-;;
    ADDRESS-08C
      LABEL-
  FORMATTED-
  LOGFORMAT-
INSTRUCTION-
   OPERAND1-
  OP1 VALUE-
   OPERAND2-
  OP2 VALUE-
    COMMENT-;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
    ADDRESS-08C
      LABEL-
  FORMATTED-
  LOGFORMAT-
INSTRUCTION-
   OPERAND1-
  OP1 VALUE-
   OPERAND2-
  OP2 VALUE-
    COMMENT-;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
    ADDRESS-08C
      LABEL-
  FORMATTED-
  LOGFORMAT-
INSTRUCTION-
   OPERAND1-
  OP1 VALUE-
   OPERAND2-
  OP2 VALUE-
    COMMENT-;; Poll for RSP FIFO not empty and read all nybbles of response word,
    ADDRESS-08C
      LABEL-
  FORMATTED-
  LOGFORMAT-
INSTRUCTION-
   OPERAND1-
  OP1 VALUE-
   OPERAND2-
  OP2 VALUE-
    COMMENT-;; storing them in memory.
    ADDRESS-08C
      LABEL-
  FORMATTED-
  LOGFORMAT-
INSTRUCTION-
   OPERAND1-
  OP1 VALUE-
   OPERAND2-
  OP2 VALUE-
    COMMENT-;;
    ADDRESS-08C
      LABEL-
  FORMATTED-
  LOGFORMAT-
INSTRUCTION-
   OPERAND1-
  OP1 VALUE-
   OPERAND2-
  OP2 VALUE-
    COMMENT-;; Returns: 0, RSP word successfully read from RSP FIFO and stored
    ADDRESS-08C
      LABEL-
  FORMATTED-
  LOGFORMAT-
INSTRUCTION-
   OPERAND1-
  OP1 VALUE-
   OPERAND2-
  OP2 VALUE-
    COMMENT-;;          1, RSP word not successful read from RSP FIFO and stored
    ADDRESS-08C
      LABEL-
  FORMATTED-
  LOGFORMAT-
INSTRUCTION-
   OPERAND1-
  OP1 VALUE-
   OPERAND2-
  OP2 VALUE-
    COMMENT-;;
    ADDRESS-08C
      LABEL-read_rsp
  FORMATTED-INPUT xreg, RSP_FIFO_EMPTY
  LOGFORMAT-INPUT xreg[s0], RSP_FIFO_EMPTY[48]
INSTRUCTION-INPUT
   OPERAND1-xreg
  OP1 VALUE-s0
   OPERAND2-RSP_FIFO_EMPTY
  OP2 VALUE-48
    COMMENT-;; Poll rsp fifo empty
    ADDRESS-08D
      LABEL-
  FORMATTED-COMPARE xreg, 00
  LOGFORMAT-COMPARE xreg[s0], 00
INSTRUCTION-COMPARE
   OPERAND1-xreg
  OP1 VALUE-s0
   OPERAND2-00
  OP2 VALUE-00
    COMMENT-;; Does rsp fifo have something?
    ADDRESS-08E
      LABEL-
  FORMATTED-JUMP NZ, return1
  LOGFORMAT-JUMP NZ, return1[0BC]
INSTRUCTION-JUMP
   OPERAND1-NZ
  OP1 VALUE-NZ
   OPERAND2-return1
  OP2 VALUE-0BC
    COMMENT-;; If no, return 1
    ADDRESS-08F
      LABEL-
  FORMATTED-OUTPUT xreg, RSP_FIFO_READ
  LOGFORMAT-OUTPUT xreg[s0], RSP_FIFO_READ[49]
INSTRUCTION-OUTPUT
   OPERAND1-xreg
  OP1 VALUE-s0
   OPERAND2-RSP_FIFO_READ
  OP2 VALUE-49
    COMMENT-;; Read rsp fifo
    ADDRESS-090
      LABEL-
  FORMATTED-LOAD bin_ptr, BIN_ADR_LO
  LOGFORMAT-LOAD bin_ptr[s4], BIN_ADR_LO[08]
INSTRUCTION-LOAD
   OPERAND1-bin_ptr
  OP1 VALUE-s4
   OPERAND2-BIN_ADR_LO
  OP2 VALUE-08
    COMMENT-;; Init binary pointer
    ADDRESS-091
      LABEL-
  FORMATTED-LOAD rsp_pid, RSP_FIFO_DATA0
  LOGFORMAT-LOAD rsp_pid[s7], RSP_FIFO_DATA0[40]
INSTRUCTION-LOAD
   OPERAND1-rsp_pid
  OP1 VALUE-s7
   OPERAND2-RSP_FIFO_DATA0
  OP2 VALUE-40
    COMMENT-;; Init response port id
    ADDRESS-092
      LABEL-read_rsp_l1
  FORMATTED-INPUT bin_eqv, (rsp_pid)
  LOGFORMAT-INPUT bin_eqv[s3], (rsp_pid)[(s7)]
INSTRUCTION-INPUT
   OPERAND1-bin_eqv
  OP1 VALUE-s3
   OPERAND2-(rsp_pid)
  OP2 VALUE-(s7)
    COMMENT-;; Read rsp nybble
    ADDRESS-093
      LABEL-
  FORMATTED-STORE bin_eqv, (bin_ptr)
  LOGFORMAT-STORE bin_eqv[s3], (bin_ptr)[(s4)]
INSTRUCTION-STORE
   OPERAND1-bin_eqv
  OP1 VALUE-s3
   OPERAND2-(bin_ptr)
  OP2 VALUE-(s4)
    COMMENT-;; Store rsp nybble
    ADDRESS-094
      LABEL-
  FORMATTED-ADD rsp_pid, 01
  LOGFORMAT-ADD rsp_pid[s7], 01
INSTRUCTION-ADD
   OPERAND1-rsp_pid
  OP1 VALUE-s7
   OPERAND2-01
  OP2 VALUE-01
    COMMENT-;; Increment rsp port id
    ADDRESS-095
      LABEL-
  FORMATTED-ADD bin_ptr, 01
  LOGFORMAT-ADD bin_ptr[s4], 01
INSTRUCTION-ADD
   OPERAND1-bin_ptr
  OP1 VALUE-s4
   OPERAND2-01
  OP2 VALUE-01
    COMMENT-;; Increment binary pointer
    ADDRESS-096
      LABEL-
  FORMATTED-COMPARE bin_ptr, BIN_ADR_ORH
  LOGFORMAT-COMPARE bin_ptr[s4], BIN_ADR_ORH[10]
INSTRUCTION-COMPARE
   OPERAND1-bin_ptr
  OP1 VALUE-s4
   OPERAND2-BIN_ADR_ORH
  OP2 VALUE-10
    COMMENT-;; Are we done reading response?
    ADDRESS-097
      LABEL-
  FORMATTED-JUMP NZ, read_rsp_l1
  LOGFORMAT-JUMP NZ, read_rsp_l1[092]
INSTRUCTION-JUMP
   OPERAND1-NZ
  OP1 VALUE-NZ
   OPERAND2-read_rsp_l1
  OP2 VALUE-092
    COMMENT-;; If no, loop l1
    ADDRESS-098
      LABEL-
  FORMATTED-JUMP return0
  LOGFORMAT-JUMP return0[0BA]
INSTRUCTION-JUMP
   OPERAND1-return0
  OP1 VALUE-0BA
   OPERAND2-
  OP2 VALUE-
    COMMENT-;; If yes, return 0
    ADDRESS-099
      LABEL-
  FORMATTED-
  LOGFORMAT-
INSTRUCTION-
   OPERAND1-
  OP1 VALUE-
   OPERAND2-
  OP2 VALUE-
    COMMENT-;;
    ADDRESS-099
      LABEL-
  FORMATTED-
  LOGFORMAT-
INSTRUCTION-
   OPERAND1-
  OP1 VALUE-
   OPERAND2-
  OP2 VALUE-
    COMMENT-;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
    ADDRESS-099
      LABEL-
  FORMATTED-
  LOGFORMAT-
INSTRUCTION-
   OPERAND1-
  OP1 VALUE-
   OPERAND2-
  OP2 VALUE-
    COMMENT-;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
    ADDRESS-099
      LABEL-
  FORMATTED-
  LOGFORMAT-
INSTRUCTION-
   OPERAND1-
  OP1 VALUE-
   OPERAND2-
  OP2 VALUE-
    COMMENT-;; Parse through the binary rsp packet, converting binary nybbles to
    ADDRESS-099
      LABEL-
  FORMATTED-
  LOGFORMAT-
INSTRUCTION-
   OPERAND1-
  OP1 VALUE-
   OPERAND2-
  OP2 VALUE-
    COMMENT-;; hexchar equivalents. Store the result in scratch pad memory.
    ADDRESS-099
      LABEL-
  FORMATTED-
  LOGFORMAT-
INSTRUCTION-
   OPERAND1-
  OP1 VALUE-
   OPERAND2-
  OP2 VALUE-
    COMMENT-;;
    ADDRESS-099
      LABEL-
  FORMATTED-
  LOGFORMAT-
INSTRUCTION-
   OPERAND1-
  OP1 VALUE-
   OPERAND2-
  OP2 VALUE-
    COMMENT-;; Returns: 0, success (should always find match)
    ADDRESS-099
      LABEL-
  FORMATTED-
  LOGFORMAT-
INSTRUCTION-
   OPERAND1-
  OP1 VALUE-
   OPERAND2-
  OP2 VALUE-
    COMMENT-;;
    ADDRESS-099
      LABEL-rsp_parse
  FORMATTED-LOAD bin_ptr, BIN_ADR_LO
  LOGFORMAT-LOAD bin_ptr[s4], BIN_ADR_LO[08]
INSTRUCTION-LOAD
   OPERAND1-bin_ptr
  OP1 VALUE-s4
   OPERAND2-BIN_ADR_LO
  OP2 VALUE-08
    COMMENT-;; Init the binary pointer
    ADDRESS-09A
      LABEL-
  FORMATTED-LOAD ascii_ptr, ASCII_ADR_LO
  LOGFORMAT-LOAD ascii_ptr[s2], ASCII_ADR_LO[00]
INSTRUCTION-LOAD
   OPERAND1-ascii_ptr
  OP1 VALUE-s2
   OPERAND2-ASCII_ADR_LO
  OP2 VALUE-00
    COMMENT-;; Init the ascii pointer
    ADDRESS-09B
      LABEL-rsp_parse_l2
  FORMATTED-LOAD match_ptr, MATCH_ADR_LO
  LOGFORMAT-LOAD match_ptr[s5], MATCH_ADR_LO[10]
INSTRUCTION-LOAD
   OPERAND1-match_ptr
  OP1 VALUE-s5
   OPERAND2-MATCH_ADR_LO
  OP2 VALUE-10
    COMMENT-;; Init the match pointer
    ADDRESS-09C
      LABEL-
  FORMATTED-LOAD bin_eqv, 00
  LOGFORMAT-LOAD bin_eqv[s3], 00
INSTRUCTION-LOAD
   OPERAND1-bin_eqv
  OP1 VALUE-s3
   OPERAND2-00
  OP2 VALUE-00
    COMMENT-;; Init the binary equivalent
    ADDRESS-09D
      LABEL-
  FORMATTED-FETCH xreg, (bin_ptr)
  LOGFORMAT-FETCH xreg[s0], (bin_ptr)[(s4)]
INSTRUCTION-FETCH
   OPERAND1-xreg
  OP1 VALUE-s0
   OPERAND2-(bin_ptr)
  OP2 VALUE-(s4)
    COMMENT-;; Get the nybble
    ADDRESS-09E
      LABEL-rsp_parse_l1
  FORMATTED-COMPARE xreg, bin_eqv
  LOGFORMAT-COMPARE xreg[s0], bin_eqv[s3]
INSTRUCTION-COMPARE
   OPERAND1-xreg
  OP1 VALUE-s0
   OPERAND2-bin_eqv
  OP2 VALUE-s3
    COMMENT-;; Did we find a match?
    ADDRESS-09F
      LABEL-
  FORMATTED-JUMP Z, rsp_parse_sam
  LOGFORMAT-JUMP Z, rsp_parse_sam[0A5]
INSTRUCTION-JUMP
   OPERAND1-Z
  OP1 VALUE-Z
   OPERAND2-rsp_parse_sam
  OP2 VALUE-0A5
    COMMENT-;; If yes, store ascii match
    ADDRESS-0A0
      LABEL-
  FORMATTED-COMPARE bin_ptr, BIN_ADR_ORH
  LOGFORMAT-COMPARE bin_ptr[s4], BIN_ADR_ORH[10]
INSTRUCTION-COMPARE
   OPERAND1-bin_ptr
  OP1 VALUE-s4
   OPERAND2-BIN_ADR_ORH
  OP2 VALUE-10
    COMMENT-;; Are we done parsing response?
    ADDRESS-0A1
      LABEL-
  FORMATTED-JUMP Z, return0
  LOGFORMAT-JUMP Z, return0[0BA]
INSTRUCTION-JUMP
   OPERAND1-Z
  OP1 VALUE-Z
   OPERAND2-return0
  OP2 VALUE-0BA
    COMMENT-;; If yes, succecss! Return 0!
    ADDRESS-0A2
      LABEL-
  FORMATTED-ADD match_ptr, 01
  LOGFORMAT-ADD match_ptr[s5], 01
INSTRUCTION-ADD
   OPERAND1-match_ptr
  OP1 VALUE-s5
   OPERAND2-01
  OP2 VALUE-01
    COMMENT-;; Increment match pointer
    ADDRESS-0A3
      LABEL-
  FORMATTED-ADD bin_eqv, 01
  LOGFORMAT-ADD bin_eqv[s3], 01
INSTRUCTION-ADD
   OPERAND1-bin_eqv
  OP1 VALUE-s3
   OPERAND2-01
  OP2 VALUE-01
    COMMENT-;; Increment binary equivalent
    ADDRESS-0A4
      LABEL-
  FORMATTED-JUMP rsp_parse_l1
  LOGFORMAT-JUMP rsp_parse_l1[09E]
INSTRUCTION-JUMP
   OPERAND1-rsp_parse_l1
  OP1 VALUE-09E
   OPERAND2-
  OP2 VALUE-
    COMMENT-;; Loop l1
    ADDRESS-0A5
      LABEL-rsp_parse_sam
  FORMATTED-FETCH xreg, (match_ptr)
  LOGFORMAT-FETCH xreg[s0], (match_ptr)[(s5)]
INSTRUCTION-FETCH
   OPERAND1-xreg
  OP1 VALUE-s0
   OPERAND2-(match_ptr)
  OP2 VALUE-(s5)
    COMMENT-;; Get the hexchar
    ADDRESS-0A6
      LABEL-
  FORMATTED-STORE xreg, (ascii_ptr)
  LOGFORMAT-STORE xreg[s0], (ascii_ptr)[(s2)]
INSTRUCTION-STORE
   OPERAND1-xreg
  OP1 VALUE-s0
   OPERAND2-(ascii_ptr)
  OP2 VALUE-(s2)
    COMMENT-;; Store it in scratch pad memory
    ADDRESS-0A7
      LABEL-
  FORMATTED-ADD bin_ptr, 01
  LOGFORMAT-ADD bin_ptr[s4], 01
INSTRUCTION-ADD
   OPERAND1-bin_ptr
  OP1 VALUE-s4
   OPERAND2-01
  OP2 VALUE-01
    COMMENT-;; Increment the binary pointer
    ADDRESS-0A8
      LABEL-
  FORMATTED-ADD ascii_ptr, 01
  LOGFORMAT-ADD ascii_ptr[s2], 01
INSTRUCTION-ADD
   OPERAND1-ascii_ptr
  OP1 VALUE-s2
   OPERAND2-01
  OP2 VALUE-01
    COMMENT-;; Increment the ascii pointer
    ADDRESS-0A9
      LABEL-
  FORMATTED-JUMP rsp_parse_l2
  LOGFORMAT-JUMP rsp_parse_l2[09B]
INSTRUCTION-JUMP
   OPERAND1-rsp_parse_l2
  OP1 VALUE-09B
   OPERAND2-
  OP2 VALUE-
    COMMENT-;; Go process the next character
    ADDRESS-0AA
      LABEL-
  FORMATTED-
  LOGFORMAT-
INSTRUCTION-
   OPERAND1-
  OP1 VALUE-
   OPERAND2-
  OP2 VALUE-
    COMMENT-;;
    ADDRESS-0AA
      LABEL-
  FORMATTED-
  LOGFORMAT-
INSTRUCTION-
   OPERAND1-
  OP1 VALUE-
   OPERAND2-
  OP2 VALUE-
    COMMENT-;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
    ADDRESS-0AA
      LABEL-
  FORMATTED-
  LOGFORMAT-
INSTRUCTION-
   OPERAND1-
  OP1 VALUE-
   OPERAND2-
  OP2 VALUE-
    COMMENT-;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
    ADDRESS-0AA
      LABEL-
  FORMATTED-
  LOGFORMAT-
INSTRUCTION-
   OPERAND1-
  OP1 VALUE-
   OPERAND2-
  OP2 VALUE-
    COMMENT-;; Write a start character. Then write all hexchars to the tx fifo.
    ADDRESS-0AA
      LABEL-
  FORMATTED-
  LOGFORMAT-
INSTRUCTION-
   OPERAND1-
  OP1 VALUE-
   OPERAND2-
  OP2 VALUE-
    COMMENT-;; Finally, write a sentinel linefeed. Block at tx fifo full. Note that
    ADDRESS-0AA
      LABEL-
  FORMATTED-
  LOGFORMAT-
INSTRUCTION-
   OPERAND1-
  OP1 VALUE-
   OPERAND2-
  OP2 VALUE-
    COMMENT-;; as long as the transmitter is draining the tx fifo at some point,
    ADDRESS-0AA
      LABEL-
  FORMATTED-
  LOGFORMAT-
INSTRUCTION-
   OPERAND1-
  OP1 VALUE-
   OPERAND2-
  OP2 VALUE-
    COMMENT-;; hangups won't happen here.
    ADDRESS-0AA
      LABEL-
  FORMATTED-
  LOGFORMAT-
INSTRUCTION-
   OPERAND1-
  OP1 VALUE-
   OPERAND2-
  OP2 VALUE-
    COMMENT-;;
    ADDRESS-0AA
      LABEL-
  FORMATTED-
  LOGFORMAT-
INSTRUCTION-
   OPERAND1-
  OP1 VALUE-
   OPERAND2-
  OP2 VALUE-
    COMMENT-;; Returns: 0, success (should always be able to write, eventually...)
    ADDRESS-0AA
      LABEL-
  FORMATTED-
  LOGFORMAT-
INSTRUCTION-
   OPERAND1-
  OP1 VALUE-
   OPERAND2-
  OP2 VALUE-
    COMMENT-;;
    ADDRESS-0AA
      LABEL-write_tx
  FORMATTED-LOAD xreg, ASCII_q
  LOGFORMAT-LOAD xreg[s0], ASCII_q[71]
INSTRUCTION-LOAD
   OPERAND1-xreg
  OP1 VALUE-s0
   OPERAND2-ASCII_q
  OP2 VALUE-71
    COMMENT-;; Init xreg with the starting char
    ADDRESS-0AB
      LABEL-
  FORMATTED-CALL wr_tx_l1
  LOGFORMAT-CALL wr_tx_l1[0B5]
INSTRUCTION-CALL
   OPERAND1-wr_tx_l1
  OP1 VALUE-0B5
   OPERAND2-
  OP2 VALUE-
    COMMENT-;; Write the start character
    ADDRESS-0AC
      LABEL-
  FORMATTED-LOAD ascii_ptr, ASCII_ADR_LO
  LOGFORMAT-LOAD ascii_ptr[s2], ASCII_ADR_LO[00]
INSTRUCTION-LOAD
   OPERAND1-ascii_ptr
  OP1 VALUE-s2
   OPERAND2-ASCII_ADR_LO
  OP2 VALUE-00
    COMMENT-;; Init the ascii pointer
    ADDRESS-0AD
      LABEL-write_tx_l1
  FORMATTED-FETCH xreg, (ascii_ptr)
  LOGFORMAT-FETCH xreg[s0], (ascii_ptr)[(s2)]
INSTRUCTION-FETCH
   OPERAND1-xreg
  OP1 VALUE-s0
   OPERAND2-(ascii_ptr)
  OP2 VALUE-(s2)
    COMMENT-;; Get the hexchar from memory
    ADDRESS-0AE
      LABEL-
  FORMATTED-CALL wr_tx_l1
  LOGFORMAT-CALL wr_tx_l1[0B5]
INSTRUCTION-CALL
   OPERAND1-wr_tx_l1
  OP1 VALUE-0B5
   OPERAND2-
  OP2 VALUE-
    COMMENT-;; Write the hexchar to tx fifo
    ADDRESS-0AF
      LABEL-
  FORMATTED-ADD ascii_ptr, 01
  LOGFORMAT-ADD ascii_ptr[s2], 01
INSTRUCTION-ADD
   OPERAND1-ascii_ptr
  OP1 VALUE-s2
   OPERAND2-01
  OP2 VALUE-01
    COMMENT-;; Increment ascii pointer
    ADDRESS-0B0
      LABEL-
  FORMATTED-COMPARE ascii_ptr, ASCII_ADR_ORH
  LOGFORMAT-COMPARE ascii_ptr[s2], ASCII_ADR_ORH[08]
INSTRUCTION-COMPARE
   OPERAND1-ascii_ptr
  OP1 VALUE-s2
   OPERAND2-ASCII_ADR_ORH
  OP2 VALUE-08
    COMMENT-;; Are we done?
    ADDRESS-0B1
      LABEL-
  FORMATTED-JUMP NZ, write_tx_l1
  LOGFORMAT-JUMP NZ, write_tx_l1[0AD]
INSTRUCTION-JUMP
   OPERAND1-NZ
  OP1 VALUE-NZ
   OPERAND2-write_tx_l1
  OP2 VALUE-0AD
    COMMENT-;; If no, loop l1
    ADDRESS-0B2
      LABEL-
  FORMATTED-LOAD xreg, ASCII_lf
  LOGFORMAT-LOAD xreg[s0], ASCII_lf[0A]
INSTRUCTION-LOAD
   OPERAND1-xreg
  OP1 VALUE-s0
   OPERAND2-ASCII_lf
  OP2 VALUE-0A
    COMMENT-;; Init xreg with the sentinel
    ADDRESS-0B3
      LABEL-
  FORMATTED-CALL wr_tx_l1
  LOGFORMAT-CALL wr_tx_l1[0B5]
INSTRUCTION-CALL
   OPERAND1-wr_tx_l1
  OP1 VALUE-0B5
   OPERAND2-
  OP2 VALUE-
    COMMENT-;; Write the sentinel
    ADDRESS-0B4
      LABEL-
  FORMATTED-JUMP return0
  LOGFORMAT-JUMP return0[0BA]
INSTRUCTION-JUMP
   OPERAND1-return0
  OP1 VALUE-0BA
   OPERAND2-
  OP2 VALUE-
    COMMENT-;; Success! Return 0!
    ADDRESS-0B5
      LABEL-wr_tx_l1
  FORMATTED-INPUT yreg, TX_FIFO_FULL
  LOGFORMAT-INPUT yreg[s1], TX_FIFO_FULL[10]
INSTRUCTION-INPUT
   OPERAND1-yreg
  OP1 VALUE-s1
   OPERAND2-TX_FIFO_FULL
  OP2 VALUE-10
    COMMENT-;; Get tx fifo full flag
    ADDRESS-0B6
      LABEL-
  FORMATTED-COMPARE yreg, 01
  LOGFORMAT-COMPARE yreg[s1], 01
INSTRUCTION-COMPARE
   OPERAND1-yreg
  OP1 VALUE-s1
   OPERAND2-01
  OP2 VALUE-01
    COMMENT-;; Is the tx fifo full?
    ADDRESS-0B7
      LABEL-
  FORMATTED-JUMP Z, wr_tx_l1
  LOGFORMAT-JUMP Z, wr_tx_l1[0B5]
INSTRUCTION-JUMP
   OPERAND1-Z
  OP1 VALUE-Z
   OPERAND2-wr_tx_l1
  OP2 VALUE-0B5
    COMMENT-;; If yes, loop l1
    ADDRESS-0B8
      LABEL-
  FORMATTED-OUTPUT xreg, TX_FIFO_WRITE
  LOGFORMAT-OUTPUT xreg[s0], TX_FIFO_WRITE[11]
INSTRUCTION-OUTPUT
   OPERAND1-xreg
  OP1 VALUE-s0
   OPERAND2-TX_FIFO_WRITE
  OP2 VALUE-11
    COMMENT-;; Write hexchar to the tx fifo
    ADDRESS-0B9
      LABEL-
  FORMATTED-RETURN
  LOGFORMAT-RETURN
INSTRUCTION-RETURN
   OPERAND1-
  OP1 VALUE-
   OPERAND2-
  OP2 VALUE-
    COMMENT-;; Done writing, return
    ADDRESS-0BA
      LABEL-
  FORMATTED-
  LOGFORMAT-
INSTRUCTION-
   OPERAND1-
  OP1 VALUE-
   OPERAND2-
  OP2 VALUE-
    COMMENT-;;
    ADDRESS-0BA
      LABEL-
  FORMATTED-
  LOGFORMAT-
INSTRUCTION-
   OPERAND1-
  OP1 VALUE-
   OPERAND2-
  OP2 VALUE-
    COMMENT-;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
    ADDRESS-0BA
      LABEL-
  FORMATTED-
  LOGFORMAT-
INSTRUCTION-
   OPERAND1-
  OP1 VALUE-
   OPERAND2-
  OP2 VALUE-
    COMMENT-;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
    ADDRESS-0BA
      LABEL-
  FORMATTED-
  LOGFORMAT-
INSTRUCTION-
   OPERAND1-
  OP1 VALUE-
   OPERAND2-
  OP2 VALUE-
    COMMENT-;; These guys save a line of code on return. (They make the code
    ADDRESS-0BA
      LABEL-
  FORMATTED-
  LOGFORMAT-
INSTRUCTION-
   OPERAND1-
  OP1 VALUE-
   OPERAND2-
  OP2 VALUE-
    COMMENT-;; shorter, too.)
    ADDRESS-0BA
      LABEL-
  FORMATTED-
  LOGFORMAT-
INSTRUCTION-
   OPERAND1-
  OP1 VALUE-
   OPERAND2-
  OP2 VALUE-
    COMMENT-;;
    ADDRESS-0BA
      LABEL-return0
  FORMATTED-LOAD retval, 00
  LOGFORMAT-LOAD retval[sF], 00
INSTRUCTION-LOAD
   OPERAND1-retval
  OP1 VALUE-sF
   OPERAND2-00
  OP2 VALUE-00
    COMMENT-;; generic return 0
    ADDRESS-0BB
      LABEL-
  FORMATTED-RETURN
  LOGFORMAT-RETURN
INSTRUCTION-RETURN
   OPERAND1-
  OP1 VALUE-
   OPERAND2-
  OP2 VALUE-
    COMMENT-
    ADDRESS-0BC
      LABEL-return1
  FORMATTED-LOAD retval, 01
  LOGFORMAT-LOAD retval[sF], 01
INSTRUCTION-LOAD
   OPERAND1-retval
  OP1 VALUE-sF
   OPERAND2-01
  OP2 VALUE-01
    COMMENT-;; generic return 1
    ADDRESS-0BD
      LABEL-
  FORMATTED-RETURN
  LOGFORMAT-RETURN
INSTRUCTION-RETURN
   OPERAND1-
  OP1 VALUE-
   OPERAND2-
  OP2 VALUE-
    COMMENT-
    ADDRESS-0BE
      LABEL-
  FORMATTED-
  LOGFORMAT-
INSTRUCTION-
   OPERAND1-
  OP1 VALUE-
   OPERAND2-
  OP2 VALUE-
    COMMENT-;;
    ADDRESS-0BE
      LABEL-
  FORMATTED-
  LOGFORMAT-
INSTRUCTION-
   OPERAND1-
  OP1 VALUE-
   OPERAND2-
  OP2 VALUE-
    COMMENT-;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
